\hypertarget{a00072}{\section{Yarn.\-Dialogue Class Reference}
\label{a00072}\index{Yarn.\-Dialogue@{Yarn.\-Dialogue}}
}


Collaboration diagram for Yarn.\-Dialogue\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d4/d9c/a00543}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{a00032}{Command\-Result}
\item 
class \hyperlink{a00106}{Line\-Result}
\item 
class \hyperlink{a00113}{Node\-Complete\-Result}
\item 
class \hyperlink{a00119}{Option\-Set\-Result}
\item 
class \hyperlink{a00132}{Runner\-Result}
\item 
class \hyperlink{a00140}{Standard\-Library}
\end{DoxyCompactItemize}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{a00072_a903f18cdcc66c28ceab5a43c41fe074d}{Compiled\-Format} \{ \hyperlink{a00072_a903f18cdcc66c28ceab5a43c41fe074dab4daca084ad9eabfc8de231929477ed6}{Compiled\-Format.\-V1}
 \}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{a00072_a349debf4c4b8d48e3d80ff31ad380b0e}{Dialogue} (\hyperlink{a00166}{Yarn.\-Variable\-Storage} \hyperlink{a00072_ae94eaa4b03b432422f5d205fabe37ff5}{continuity})
\item 
void \hyperlink{a00072_af868f7f6928d122ca1d1857be433d92b}{Load\-File} (string file\-Name, bool show\-Tokens=false, bool show\-Parse\-Tree=false, string only\-Consider\-Node=null)
\item 
void \hyperlink{a00072_a4bc1ceca26754dc3ec0a2281dfee26ce}{Load\-Compiled\-Program} (byte\mbox{[}$\,$\mbox{]} bytes, string file\-Name, \hyperlink{a00072_a903f18cdcc66c28ceab5a43c41fe074d}{Compiled\-Format} format=\hyperlink{a00072_a3bc83587462ade6a2f7f42cb7576e50e}{L\-A\-T\-E\-S\-T\-\_\-\-F\-O\-R\-M\-A\-T})
\item 
void \hyperlink{a00072_a7b66187877ec8a2bfee2298d3dd16706}{Load\-String} (string text, string file\-Name=\char`\"{}$<$input$>$\char`\"{}, bool show\-Tokens=false, bool show\-Parse\-Tree=false, string only\-Consider\-Node=null)
\item 
I\-Enumerable\\*
$<$ \hyperlink{a00132}{Yarn.\-Dialogue.\-Runner\-Result} $>$ \hyperlink{a00072_aead84ee50cb113ca45724894290ce9c2}{Run} (string start\-Node=\hyperlink{a00072_a1b643f15f734090e6a58cbf13dafd28f}{D\-E\-F\-A\-U\-L\-T\-\_\-\-S\-T\-A\-R\-T})
\item 
void \hyperlink{a00072_a7a6cabe5612fdcdc4619460431f85112}{Stop} ()
\item 
Dictionary$<$ string, string $>$ \hyperlink{a00072_a7c83b1fe5474a6610d39eb525f6fc9ce}{Get\-Text\-For\-All\-Nodes} ()
\item 
string \hyperlink{a00072_a594641914a2b59cc5231645273d18e82}{Get\-Text\-For\-Node} (string node\-Name)
\item 
void \hyperlink{a00072_acfb8561e08dc85c6d9a855ad07d18783}{Add\-String\-Table} (Dictionary$<$ string, string $>$ string\-Table)
\item 
Dictionary$<$ string, string $>$ \hyperlink{a00072_af5fe57ebd11c41208070972f06a31b9d}{Get\-String\-Table} ()
\item 
byte\mbox{[}$\,$\mbox{]} \hyperlink{a00072_a5b664d4bbe7c47c246fe0beca9648687}{Get\-Compiled\-Program} (\hyperlink{a00072_a903f18cdcc66c28ceab5a43c41fe074d}{Compiled\-Format} format=\hyperlink{a00072_a3bc83587462ade6a2f7f42cb7576e50e}{L\-A\-T\-E\-S\-T\-\_\-\-F\-O\-R\-M\-A\-T})
\item 
void \hyperlink{a00072_a7acfe32f91b36ee812059f2ad3011133}{Unload\-All} (bool clear\-Visited\-Nodes=true)
\item 
\hyperlink{a00031_a301aa7c866593a5b625a8fc158bbeacea27118326006d3829667a400ad23d5d98}{String} \hyperlink{a00072_a7a8a3a461011172f5624da3a8ffa875f}{Compile} ()
\item 
\hyperlink{a00031_a301aa7c866593a5b625a8fc158bbeacea27118326006d3829667a400ad23d5d98}{String} \hyperlink{a00072_aade6c069db8f01572060d25a963d2a14}{Get\-Byte\-Code} ()
\item 
bool \hyperlink{a00072_a93bb76a1f9a4058f225ff4cee97483c6}{Node\-Exists} (string node\-Name)
\item 
void \hyperlink{a00072_a6b67b239f50c062160666e54592c433f}{Analyse} (\hyperlink{a00037}{Analysis.\-Context} context)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{a00031_a1e50031b945a3a2afafee6f590730568}{Logger} \hyperlink{a00072_a381f48bb0fbb294f8cf44ca57f11be31}{Log\-Debug\-Message}
\item 
\hyperlink{a00031_a1e50031b945a3a2afafee6f590730568}{Logger} \hyperlink{a00072_a9801e83dd044d6498fdf6ebcc6bec5ac}{Log\-Error\-Message}
\item 
const string \hyperlink{a00072_a1b643f15f734090e6a58cbf13dafd28f}{D\-E\-F\-A\-U\-L\-T\-\_\-\-S\-T\-A\-R\-T} = \char`\"{}Start\char`\"{}
\item 
\hyperlink{a00103}{Library} \hyperlink{a00072_ae660d4cfb6e296358d2f61d8ee74c66a}{library}
\item 
Dictionary$<$ \hyperlink{a00031_a301aa7c866593a5b625a8fc158bbeacea27118326006d3829667a400ad23d5d98}{String}, int $>$ \hyperlink{a00072_aae9e64354066a1e2fa130629959d772b}{visited\-Node\-Count} = new Dictionary$<$string, int$>$()
\item 
const \hyperlink{a00072_a903f18cdcc66c28ceab5a43c41fe074d}{Compiled\-Format} \hyperlink{a00072_a3bc83587462ade6a2f7f42cb7576e50e}{L\-A\-T\-E\-S\-T\-\_\-\-F\-O\-R\-M\-A\-T} = Compiled\-Format.\-V1
\end{DoxyCompactItemize}
\subsection*{Package Functions}
\begin{DoxyCompactItemize}
\item 
Dictionary$<$ string, \hyperlink{a00105}{Line\-Info} $>$ \hyperlink{a00072_a5c5117de678626ebcfb9a6f875e6e53a}{Get\-String\-Info\-Table} ()
\end{DoxyCompactItemize}
\subsection*{Package Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{a00166}{Variable\-Storage} \hyperlink{a00072_ae94eaa4b03b432422f5d205fabe37ff5}{continuity}
\item 
\hyperlink{a00107}{Loader} \hyperlink{a00072_a98bbe0ac2ccadeeeb7e05e3e6e19f2e0}{loader}
\item 
\hyperlink{a00126}{Program} \hyperlink{a00072_a0a1cca92325f430425d784d416cb5c2b}{program}
\end{DoxyCompactItemize}
\subsection*{Properties}
\begin{DoxyCompactItemize}
\item 
I\-Enumerable$<$ string $>$ \hyperlink{a00072_ac5661051e0b7f44527fe526c7766dbbf}{visited\-Nodes}\hspace{0.3cm}{\ttfamily  \mbox{[}get, set\mbox{]}}
\item 
I\-Enumerable$<$ string $>$ \hyperlink{a00072_a0ee573e3d072bccf98ba1d975612d42c}{all\-Nodes}\hspace{0.3cm}{\ttfamily  \mbox{[}get\mbox{]}}
\item 
string \hyperlink{a00072_af368b5c342d585dc6953876c5965ccc8}{current\-Node}\hspace{0.3cm}{\ttfamily  \mbox{[}get\mbox{]}}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
object \hyperlink{a00072_a10c9f22d3f55e74f091cd6069c431094}{Yarn\-Function\-Node\-Visit\-Count} (\hyperlink{a00163}{Value}\mbox{[}$\,$\mbox{]} parameters)
\item 
object \hyperlink{a00072_a1ab129bd84381928531d503304ca08d6}{Yarn\-Function\-Is\-Node\-Visited} (\hyperlink{a00163}{Value}\mbox{[}$\,$\mbox{]} parameters)
\item 
void \hyperlink{a00072_a706df08e842c2419f7a66fd40c0a544f}{Load\-Compiled\-Program\-V1} (byte\mbox{[}$\,$\mbox{]} bytes)
\item 
byte\mbox{[}$\,$\mbox{]} \hyperlink{a00072_a070898dbc07fd7d0a74d7c3ac1848beb}{Get\-Compiled\-Program\-V1} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{a00138}{Virtual\-Machine} \hyperlink{a00072_a8c1319357a9df6cff051328fb33224c7}{vm}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


\subsection{Member Enumeration Documentation}
\hypertarget{a00072_a903f18cdcc66c28ceab5a43c41fe074d}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!Compiled\-Format@{Compiled\-Format}}
\index{Compiled\-Format@{Compiled\-Format}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{Compiled\-Format}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf Yarn.\-Dialogue.\-Compiled\-Format}}}\label{a00072_a903f18cdcc66c28ceab5a43c41fe074d}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{V1@{V1}!Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}}\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!V1@{V1}}\item[{\em 
\hypertarget{a00072_a903f18cdcc66c28ceab5a43c41fe074dab4daca084ad9eabfc8de231929477ed6}{V1}\label{a00072_a903f18cdcc66c28ceab5a43c41fe074dab4daca084ad9eabfc8de231929477ed6}
}]\end{description}
\end{Desc}

\begin{DoxyCode}
511         \{
512             \hyperlink{a00072_a903f18cdcc66c28ceab5a43c41fe074dab4daca084ad9eabfc8de231929477ed6}{V1}
513         \}
\end{DoxyCode}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{a00072_a349debf4c4b8d48e3d80ff31ad380b0e}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!Dialogue@{Dialogue}}
\index{Dialogue@{Dialogue}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{Dialogue}]{\setlength{\rightskip}{0pt plus 5cm}Yarn.\-Dialogue.\-Dialogue (
\begin{DoxyParamCaption}
\item[{{\bf Yarn.\-Variable\-Storage}}]{continuity}
\end{DoxyParamCaption}
)}}\label{a00072_a349debf4c4b8d48e3d80ff31ad380b0e}

\begin{DoxyCode}
240                                                          \{
241             this.continuity = \hyperlink{a00072_ae94eaa4b03b432422f5d205fabe37ff5}{continuity};
242             \hyperlink{a00072_a98bbe0ac2ccadeeeb7e05e3e6e19f2e0}{loader} = \textcolor{keyword}{new} Loader (\textcolor{keyword}{this});
243             \hyperlink{a00072_ae660d4cfb6e296358d2f61d8ee74c66a}{library} = \textcolor{keyword}{new} Library ();
244 
245             library.ImportLibrary (\textcolor{keyword}{new} StandardLibrary ());
246 
247             \textcolor{comment}{// Register the "visited" function, which returns true if we've visited}
248             \textcolor{comment}{// a node previously (nodes are marked as visited when we leave them)}
249             library.RegisterFunction (\textcolor{stringliteral}{"visited"}, -1, (\hyperlink{a00031_a5177bf74fbfe7303fac9d8236c2e514b}{ReturningFunction})
      \hyperlink{a00072_a1ab129bd84381928531d503304ca08d6}{YarnFunctionIsNodeVisited});
250 
251             \textcolor{comment}{// Register the "visitCount" function, which returns the number of times}
252             \textcolor{comment}{// a node has been run (which increments when a node ends). If called with }
253             \textcolor{comment}{// no parameters, check the CURRENT node.}
254             library.RegisterFunction (\textcolor{stringliteral}{"visitCount"}, -1, (\hyperlink{a00031_a5177bf74fbfe7303fac9d8236c2e514b}{ReturningFunction})
      \hyperlink{a00072_a10c9f22d3f55e74f091cd6069c431094}{YarnFunctionNodeVisitCount});
255 
256         \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{a00072_acfb8561e08dc85c6d9a855ad07d18783}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!Add\-String\-Table@{Add\-String\-Table}}
\index{Add\-String\-Table@{Add\-String\-Table}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{Add\-String\-Table}]{\setlength{\rightskip}{0pt plus 5cm}void Yarn.\-Dialogue.\-Add\-String\-Table (
\begin{DoxyParamCaption}
\item[{Dictionary$<$ string, string $>$}]{string\-Table}
\end{DoxyParamCaption}
)}}\label{a00072_acfb8561e08dc85c6d9a855ad07d18783}

\begin{DoxyCode}
498         \{
499             program.LoadStrings(stringTable);
500         \}
\end{DoxyCode}
\hypertarget{a00072_a6b67b239f50c062160666e54592c433f}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!Analyse@{Analyse}}
\index{Analyse@{Analyse}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{Analyse}]{\setlength{\rightskip}{0pt plus 5cm}void Yarn.\-Dialogue.\-Analyse (
\begin{DoxyParamCaption}
\item[{{\bf Analysis.\-Context}}]{context}
\end{DoxyParamCaption}
)}}\label{a00072_a6b67b239f50c062160666e54592c433f}

\begin{DoxyCode}
585                                                       \{
586 
587             context.AddProgramToAnalysis (this.program);
588 
589         \}
\end{DoxyCode}
\hypertarget{a00072_a7a8a3a461011172f5624da3a8ffa875f}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!Compile@{Compile}}
\index{Compile@{Compile}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{Compile}]{\setlength{\rightskip}{0pt plus 5cm}{\bf String} Yarn.\-Dialogue.\-Compile (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{a00072_a7a8a3a461011172f5624da3a8ffa875f}

\begin{DoxyCode}
553                                 \{
554             \textcolor{keywordflow}{return} program.DumpCode (\hyperlink{a00072_ae660d4cfb6e296358d2f61d8ee74c66a}{library});
555         \}
\end{DoxyCode}
\hypertarget{a00072_aade6c069db8f01572060d25a963d2a14}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!Get\-Byte\-Code@{Get\-Byte\-Code}}
\index{Get\-Byte\-Code@{Get\-Byte\-Code}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{Get\-Byte\-Code}]{\setlength{\rightskip}{0pt plus 5cm}{\bf String} Yarn.\-Dialogue.\-Get\-Byte\-Code (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{a00072_aade6c069db8f01572060d25a963d2a14}

\begin{DoxyCode}
557                                     \{
558             \textcolor{keywordflow}{return} program.DumpCode (\hyperlink{a00072_ae660d4cfb6e296358d2f61d8ee74c66a}{library});
559         \}
\end{DoxyCode}
\hypertarget{a00072_a5b664d4bbe7c47c246fe0beca9648687}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!Get\-Compiled\-Program@{Get\-Compiled\-Program}}
\index{Get\-Compiled\-Program@{Get\-Compiled\-Program}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{Get\-Compiled\-Program}]{\setlength{\rightskip}{0pt plus 5cm}byte \mbox{[}$\,$\mbox{]} Yarn.\-Dialogue.\-Get\-Compiled\-Program (
\begin{DoxyParamCaption}
\item[{{\bf Compiled\-Format}}]{format = {\ttfamily {\bf L\-A\-T\-E\-S\-T\-\_\-\-F\-O\-R\-M\-A\-T}}}
\end{DoxyParamCaption}
)}}\label{a00072_a5b664d4bbe7c47c246fe0beca9648687}

\begin{DoxyCode}
518         \{
519 
520             \textcolor{keywordflow}{switch} (format)
521             \{
522                 \textcolor{keywordflow}{case} CompiledFormat.V1:
523                     \textcolor{keywordflow}{return} \hyperlink{a00072_a070898dbc07fd7d0a74d7c3ac1848beb}{GetCompiledProgramV1}();
524                 \textcolor{keywordflow}{default}:
525                     \textcolor{keywordflow}{throw} \textcolor{keyword}{new} ArgumentOutOfRangeException();
526             \}
527         \}
\end{DoxyCode}
\hypertarget{a00072_a070898dbc07fd7d0a74d7c3ac1848beb}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!Get\-Compiled\-Program\-V1@{Get\-Compiled\-Program\-V1}}
\index{Get\-Compiled\-Program\-V1@{Get\-Compiled\-Program\-V1}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{Get\-Compiled\-Program\-V1}]{\setlength{\rightskip}{0pt plus 5cm}byte \mbox{[}$\,$\mbox{]} Yarn.\-Dialogue.\-Get\-Compiled\-Program\-V1 (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{a00072_a070898dbc07fd7d0a74d7c3ac1848beb}

\begin{DoxyCode}
530         \{
531             \textcolor{keyword}{using} (var outputStream = \textcolor{keyword}{new} System.IO.MemoryStream())
532             \{
533                 \textcolor{keyword}{using} (var bsonWriter = \textcolor{keyword}{new} Newtonsoft.Json.Bson.BsonWriter(outputStream))
534                 \{
535                     var s = \textcolor{keyword}{new} Newtonsoft.Json.JsonSerializer();
536                     s.Serialize(bsonWriter, this.program);
537                 \}
538 
539                 \textcolor{keywordflow}{return} outputStream.ToArray();
540             \}
541         \}
\end{DoxyCode}
\hypertarget{a00072_a5c5117de678626ebcfb9a6f875e6e53a}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!Get\-String\-Info\-Table@{Get\-String\-Info\-Table}}
\index{Get\-String\-Info\-Table@{Get\-String\-Info\-Table}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{Get\-String\-Info\-Table}]{\setlength{\rightskip}{0pt plus 5cm}Dictionary$<$string,{\bf Line\-Info}$>$ Yarn.\-Dialogue.\-Get\-String\-Info\-Table (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [package]}}}\label{a00072_a5c5117de678626ebcfb9a6f875e6e53a}

\begin{DoxyCode}
506                                                                   \{
507             \textcolor{keywordflow}{return} program.lineInfo;
508         \}
\end{DoxyCode}
\hypertarget{a00072_af5fe57ebd11c41208070972f06a31b9d}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!Get\-String\-Table@{Get\-String\-Table}}
\index{Get\-String\-Table@{Get\-String\-Table}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{Get\-String\-Table}]{\setlength{\rightskip}{0pt plus 5cm}Dictionary$<$string,string$>$ Yarn.\-Dialogue.\-Get\-String\-Table (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{a00072_af5fe57ebd11c41208070972f06a31b9d}

\begin{DoxyCode}
502                                                           \{
503             \textcolor{keywordflow}{return} program.strings;
504         \}
\end{DoxyCode}
\hypertarget{a00072_a7c83b1fe5474a6610d39eb525f6fc9ce}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!Get\-Text\-For\-All\-Nodes@{Get\-Text\-For\-All\-Nodes}}
\index{Get\-Text\-For\-All\-Nodes@{Get\-Text\-For\-All\-Nodes}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{Get\-Text\-For\-All\-Nodes}]{\setlength{\rightskip}{0pt plus 5cm}Dictionary$<$string, string$>$ Yarn.\-Dialogue.\-Get\-Text\-For\-All\-Nodes (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{a00072_a7c83b1fe5474a6610d39eb525f6fc9ce}

\begin{DoxyCode}
468                                                                \{
469             var d = \textcolor{keyword}{new} Dictionary<string,string>();
470 
471             \textcolor{keywordflow}{foreach} (var node \textcolor{keywordflow}{in} \hyperlink{a00072_a0a1cca92325f430425d784d416cb5c2b}{program}.\hyperlink{a00126_a3f4928a577c88263ad016be259b175c4}{nodes}) \{
472                 var text = program.GetTextForNode(node.Key);
473 
474                 \textcolor{keywordflow}{if} (text == null)
475                     \textcolor{keywordflow}{continue};
476 
477                 d [node.Key] = text;
478             \}
479 
480             \textcolor{keywordflow}{return} d;
481         \}
\end{DoxyCode}
\hypertarget{a00072_a594641914a2b59cc5231645273d18e82}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!Get\-Text\-For\-Node@{Get\-Text\-For\-Node}}
\index{Get\-Text\-For\-Node@{Get\-Text\-For\-Node}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{Get\-Text\-For\-Node}]{\setlength{\rightskip}{0pt plus 5cm}string Yarn.\-Dialogue.\-Get\-Text\-For\-Node (
\begin{DoxyParamCaption}
\item[{string}]{node\-Name}
\end{DoxyParamCaption}
)}}\label{a00072_a594641914a2b59cc5231645273d18e82}

\begin{DoxyCode}
485                                                       \{
486             \textcolor{keywordflow}{if} (\hyperlink{a00072_a0a1cca92325f430425d784d416cb5c2b}{program}.\hyperlink{a00126_a3f4928a577c88263ad016be259b175c4}{nodes}.Count == 0) \{
487                 \hyperlink{a00072_a9801e83dd044d6498fdf6ebcc6bec5ac}{LogErrorMessage} (\textcolor{stringliteral}{"No nodes are loaded!"});
488                 \textcolor{keywordflow}{return} null;
489             \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00072_a0a1cca92325f430425d784d416cb5c2b}{program}.\hyperlink{a00126_a3f4928a577c88263ad016be259b175c4}{nodes}.ContainsKey(nodeName)) \{
490                 \textcolor{keywordflow}{return} program.GetTextForNode (nodeName);
491             \} \textcolor{keywordflow}{else} \{
492                 \hyperlink{a00072_a9801e83dd044d6498fdf6ebcc6bec5ac}{LogErrorMessage} (\textcolor{stringliteral}{"No node named "} + nodeName);
493                 \textcolor{keywordflow}{return} null;
494             \}
495         \}
\end{DoxyCode}
\hypertarget{a00072_a4bc1ceca26754dc3ec0a2281dfee26ce}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!Load\-Compiled\-Program@{Load\-Compiled\-Program}}
\index{Load\-Compiled\-Program@{Load\-Compiled\-Program}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{Load\-Compiled\-Program}]{\setlength{\rightskip}{0pt plus 5cm}void Yarn.\-Dialogue.\-Load\-Compiled\-Program (
\begin{DoxyParamCaption}
\item[{byte\mbox{[}$\,$\mbox{]}}]{bytes, }
\item[{string}]{file\-Name, }
\item[{{\bf Compiled\-Format}}]{format = {\ttfamily {\bf L\-A\-T\-E\-S\-T\-\_\-\-F\-O\-R\-M\-A\-T}}}
\end{DoxyParamCaption}
)}}\label{a00072_a4bc1ceca26754dc3ec0a2281dfee26ce}

\begin{DoxyCode}
283         \{
284 
285             \textcolor{keywordflow}{if} (\hyperlink{a00072_a381f48bb0fbb294f8cf44ca57f11be31}{LogDebugMessage} == null)
286             \{
287                 \textcolor{keywordflow}{throw} \textcolor{keyword}{new} YarnException(\textcolor{stringliteral}{"LogDebugMessage must be set before loading"});
288             \}
289 
290             \textcolor{keywordflow}{if} (\hyperlink{a00072_a9801e83dd044d6498fdf6ebcc6bec5ac}{LogErrorMessage} == null)
291             \{
292                 \textcolor{keywordflow}{throw} \textcolor{keyword}{new} YarnException(\textcolor{stringliteral}{"LogErrorMessage must be set before loading"});
293             \}
294 
295             \textcolor{keywordflow}{switch} (format)
296             \{
297                 \textcolor{keywordflow}{case} CompiledFormat.V1:
298                     \hyperlink{a00072_a706df08e842c2419f7a66fd40c0a544f}{LoadCompiledProgramV1}(bytes);
299                     \textcolor{keywordflow}{break};
300                 \textcolor{keywordflow}{default}:
301                     \textcolor{keywordflow}{throw} \textcolor{keyword}{new} ArgumentOutOfRangeException();
302             \}
303 
304 
305         \}
\end{DoxyCode}
\hypertarget{a00072_a706df08e842c2419f7a66fd40c0a544f}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!Load\-Compiled\-Program\-V1@{Load\-Compiled\-Program\-V1}}
\index{Load\-Compiled\-Program\-V1@{Load\-Compiled\-Program\-V1}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{Load\-Compiled\-Program\-V1}]{\setlength{\rightskip}{0pt plus 5cm}void Yarn.\-Dialogue.\-Load\-Compiled\-Program\-V1 (
\begin{DoxyParamCaption}
\item[{byte\mbox{[}$\,$\mbox{]}}]{bytes}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{a00072_a706df08e842c2419f7a66fd40c0a544f}

\begin{DoxyCode}
308         \{
309             \textcolor{keyword}{using} (var stream = \textcolor{keyword}{new} System.IO.MemoryStream(bytes))
310             \{
311                 \textcolor{keyword}{using} (var reader = \textcolor{keyword}{new} Newtonsoft.Json.Bson.BsonReader(stream))
312                 \{
313                     var serializer = \textcolor{keyword}{new} Newtonsoft.Json.JsonSerializer();
314 
315                     \textcolor{keywordflow}{try}
316                     \{
317                         \textcolor{comment}{// Load the stored program}
318                         var newProgram = serializer.Deserialize<Program>(reader);
319 
320                         \textcolor{comment}{// Merge it with our existing one, if present}
321                         \textcolor{keywordflow}{if} (\hyperlink{a00072_a0a1cca92325f430425d784d416cb5c2b}{program} != null)
322                         \{
323                             program.Include(newProgram);
324                         \}
325                         \textcolor{keywordflow}{else} \{
326                             \hyperlink{a00072_a0a1cca92325f430425d784d416cb5c2b}{program} = newProgram;
327                         \}
328                     \}
329                     \textcolor{keywordflow}{catch} (Newtonsoft.Json.JsonReaderException e)
330                     \{
331                         \hyperlink{a00072_a9801e83dd044d6498fdf6ebcc6bec5ac}{LogErrorMessage}(\textcolor{keywordtype}{string}.Format(\textcolor{stringliteral}{"Cannot load compiled program: \{0\}"}, e
      .Message));
332                     \}
333                 \}
334             \}
335         \}
\end{DoxyCode}
\hypertarget{a00072_af868f7f6928d122ca1d1857be433d92b}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!Load\-File@{Load\-File}}
\index{Load\-File@{Load\-File}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{Load\-File}]{\setlength{\rightskip}{0pt plus 5cm}void Yarn.\-Dialogue.\-Load\-File (
\begin{DoxyParamCaption}
\item[{string}]{file\-Name, }
\item[{bool}]{show\-Tokens = {\ttfamily false}, }
\item[{bool}]{show\-Parse\-Tree = {\ttfamily false}, }
\item[{string}]{only\-Consider\-Node = {\ttfamily null}}
\end{DoxyParamCaption}
)}}\label{a00072_af868f7f6928d122ca1d1857be433d92b}

\begin{DoxyCode}
259                                                                                                            
                            \{
260 
261             \textcolor{comment}{// Is this a compiled program file?}
262             \textcolor{keywordflow}{if} (fileName.EndsWith(\textcolor{stringliteral}{".yarn.bytes"})) \{
263 
264                 var bytes = System.IO.File.ReadAllBytes(fileName);
265                 \hyperlink{a00072_a4bc1ceca26754dc3ec0a2281dfee26ce}{LoadCompiledProgram}(bytes, fileName);
266 
267                 \textcolor{keywordflow}{return};
268             \} \textcolor{keywordflow}{else} \{
269                 \textcolor{comment}{// It's source code, either a single node in text form or a JSON file}
270                 \textcolor{keywordtype}{string} inputString;
271                 \textcolor{keyword}{using} (System.IO.StreamReader reader = \textcolor{keyword}{new} System.IO.StreamReader(fileName))
272                 \{
273                     inputString = reader.ReadToEnd();
274                 \}
275 
276                 \hyperlink{a00072_a7b66187877ec8a2bfee2298d3dd16706}{LoadString}(inputString, fileName, showTokens, showParseTree, onlyConsiderNode);
277             \}
278 
279 
280         \}
\end{DoxyCode}
\hypertarget{a00072_a7b66187877ec8a2bfee2298d3dd16706}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!Load\-String@{Load\-String}}
\index{Load\-String@{Load\-String}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{Load\-String}]{\setlength{\rightskip}{0pt plus 5cm}void Yarn.\-Dialogue.\-Load\-String (
\begin{DoxyParamCaption}
\item[{string}]{text, }
\item[{string}]{file\-Name = {\ttfamily \char`\"{}$<$input$>$\char`\"{}}, }
\item[{bool}]{show\-Tokens = {\ttfamily false}, }
\item[{bool}]{show\-Parse\-Tree = {\ttfamily false}, }
\item[{string}]{only\-Consider\-Node = {\ttfamily null}}
\end{DoxyParamCaption}
)}}\label{a00072_a7b66187877ec8a2bfee2298d3dd16706}

\begin{DoxyCode}
338                                                                                                            
                                                 \{
339 
340             \textcolor{keywordflow}{if} (\hyperlink{a00072_a381f48bb0fbb294f8cf44ca57f11be31}{LogDebugMessage} == null) \{
341                 \textcolor{keywordflow}{throw} \textcolor{keyword}{new} YarnException (\textcolor{stringliteral}{"LogDebugMessage must be set before loading"});
342             \}
343 
344             \textcolor{keywordflow}{if} (\hyperlink{a00072_a9801e83dd044d6498fdf6ebcc6bec5ac}{LogErrorMessage} == null) \{
345                 \textcolor{keywordflow}{throw} \textcolor{keyword}{new} YarnException (\textcolor{stringliteral}{"LogErrorMessage must be set before loading"});
346             \}
347 
348             \textcolor{comment}{// Try to infer the type}
349 
350             \hyperlink{a00031_ad7ebb46e7309ead8767383a672b3272f}{NodeFormat} format;
351 
352             \textcolor{keywordflow}{if} (text.StartsWith(\textcolor{stringliteral}{"["}, StringComparison.Ordinal)) \{
353                 \textcolor{comment}{// starts with a \{? this is probably a JSON array}
354                 format = NodeFormat.JSON;                
355             \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (text.Contains(\textcolor{stringliteral}{"---"})) \{
356                 \textcolor{comment}{// contains a --- delimiter? probably multi node text}
357                 format = NodeFormat.Text;
358             \} \textcolor{keywordflow}{else} \{
359                 \textcolor{comment}{// fall back to the single node format}
360                 format = NodeFormat.SingleNodeText;
361             \}
362 
363             \hyperlink{a00072_a0a1cca92325f430425d784d416cb5c2b}{program} = loader.Load(text, \hyperlink{a00072_ae660d4cfb6e296358d2f61d8ee74c66a}{library}, fileName, \hyperlink{a00072_a0a1cca92325f430425d784d416cb5c2b}{program}, showTokens, 
      showParseTree, onlyConsiderNode, format);
364 
365         \}
\end{DoxyCode}
\hypertarget{a00072_a93bb76a1f9a4058f225ff4cee97483c6}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!Node\-Exists@{Node\-Exists}}
\index{Node\-Exists@{Node\-Exists}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{Node\-Exists}]{\setlength{\rightskip}{0pt plus 5cm}bool Yarn.\-Dialogue.\-Node\-Exists (
\begin{DoxyParamCaption}
\item[{string}]{node\-Name}
\end{DoxyParamCaption}
)}}\label{a00072_a93bb76a1f9a4058f225ff4cee97483c6}

\begin{DoxyCode}
561                                                 \{
562             \textcolor{keywordflow}{if} (\hyperlink{a00072_a0a1cca92325f430425d784d416cb5c2b}{program} == null) \{
563 
564                 \textcolor{keywordflow}{if} (\hyperlink{a00072_a0a1cca92325f430425d784d416cb5c2b}{program}.\hyperlink{a00126_a3f4928a577c88263ad016be259b175c4}{nodes}.Count > 0) \{
565                     \hyperlink{a00072_a9801e83dd044d6498fdf6ebcc6bec5ac}{LogErrorMessage} (\textcolor{stringliteral}{"Internal consistency error: Called NodeExists, and "} +
566                                      \textcolor{stringliteral}{"there are nodes loaded, but the program hasn't "} +
567                                      \textcolor{stringliteral}{"been compiled yet, somehow?"});
568 
569                     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
570 
571                 \} \textcolor{keywordflow}{else} \{
572                     \hyperlink{a00072_a9801e83dd044d6498fdf6ebcc6bec5ac}{LogErrorMessage} (\textcolor{stringliteral}{"Tried to call NodeExists, but no nodes "} +
573                                      \textcolor{stringliteral}{"have been compiled!"});
574                     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
575                 \}
576             \}
577             \textcolor{keywordflow}{if} (\hyperlink{a00072_a0a1cca92325f430425d784d416cb5c2b}{program}.\hyperlink{a00126_a3f4928a577c88263ad016be259b175c4}{nodes} == null || \hyperlink{a00072_a0a1cca92325f430425d784d416cb5c2b}{program}.\hyperlink{a00126_a3f4928a577c88263ad016be259b175c4}{nodes}.Count == 0) \{
578                 \hyperlink{a00072_a381f48bb0fbb294f8cf44ca57f11be31}{LogDebugMessage} (\textcolor{stringliteral}{"Called NodeExists, but there are zero nodes. "} +
579                                  \textcolor{stringliteral}{"This may be an error."});
580                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};
581             \}
582             \textcolor{keywordflow}{return} program.nodes.ContainsKey(nodeName);
583         \}
\end{DoxyCode}
\hypertarget{a00072_aead84ee50cb113ca45724894290ce9c2}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!Run@{Run}}
\index{Run@{Run}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{Run}]{\setlength{\rightskip}{0pt plus 5cm}I\-Enumerable$<${\bf Yarn.\-Dialogue.\-Runner\-Result}$>$ Yarn.\-Dialogue.\-Run (
\begin{DoxyParamCaption}
\item[{string}]{start\-Node = {\ttfamily {\bf D\-E\-F\-A\-U\-L\-T\-\_\-\-S\-T\-A\-R\-T}}}
\end{DoxyParamCaption}
)}}\label{a00072_aead84ee50cb113ca45724894290ce9c2}

\begin{DoxyCode}
371                                                                                              \{
372 
373 
374             \textcolor{keywordflow}{if} (\hyperlink{a00072_a381f48bb0fbb294f8cf44ca57f11be31}{LogDebugMessage} == null) \{
375                 \textcolor{keywordflow}{throw} \textcolor{keyword}{new} YarnException (\textcolor{stringliteral}{"LogDebugMessage must be set before running"});
376             \}
377 
378             \textcolor{keywordflow}{if} (\hyperlink{a00072_a9801e83dd044d6498fdf6ebcc6bec5ac}{LogErrorMessage} == null) \{
379                 \textcolor{keywordflow}{throw} \textcolor{keyword}{new} YarnException (\textcolor{stringliteral}{"LogErrorMessage must be set before running"});
380             \}
381 
382             \textcolor{keywordflow}{if} (\hyperlink{a00072_a0a1cca92325f430425d784d416cb5c2b}{program} == null) \{
383                 \hyperlink{a00072_a9801e83dd044d6498fdf6ebcc6bec5ac}{LogErrorMessage} (\textcolor{stringliteral}{"Dialogue.Run was called, but no program was loaded.
       Stopping."});
384                 yield \textcolor{keywordflow}{break};
385             \}
386 
387             \hyperlink{a00072_a8c1319357a9df6cff051328fb33224c7}{vm} = \textcolor{keyword}{new} VirtualMachine (\textcolor{keyword}{this}, \hyperlink{a00072_a0a1cca92325f430425d784d416cb5c2b}{program});
388 
389             RunnerResult latestResult;
390 
391             vm.lineHandler = delegate(LineResult result) \{
392                 latestResult = result;
393             \};
394 
395             vm.commandHandler = delegate(CommandResult result) \{
396                 \textcolor{comment}{// Is it the special custom command "<<stop>>"?}
397                 \textcolor{keywordflow}{if} (result is CommandResult && (result as CommandResult).command.text == \textcolor{stringliteral}{"stop"}) \{
398                     vm.Stop();
399                 \}
400                 latestResult = result;
401             \};
402 
403             vm.nodeCompleteHandler = delegate(NodeCompleteResult result) \{
404 
405                 \textcolor{comment}{// get the count if it's there, otherwise it defaults to 0}
406                 \textcolor{keywordtype}{int} count = 0;
407                 visitedNodeCount.TryGetValue(vm.currentNodeName, out count);
408 
409                 \hyperlink{a00072_aae9e64354066a1e2fa130629959d772b}{visitedNodeCount}[vm.currentNodeName] = count + 1;
410                 latestResult = result;
411             \};
412 
413             vm.optionsHandler = delegate(OptionSetResult result) \{
414                 latestResult = result;
415             \};
416 
417             \textcolor{keywordflow}{if} (\hyperlink{a00072_a8c1319357a9df6cff051328fb33224c7}{vm}.\hyperlink{a00138_a6364593ea1115d65e34b343422cfbbbd}{SetNode} (startNode) == \textcolor{keyword}{false}) \{
418                 yield \textcolor{keywordflow}{break};
419             \}
420 
421             \textcolor{comment}{// Run until the program stops, pausing to yield important}
422             \textcolor{comment}{// results}
423             \textcolor{keywordflow}{do} \{
424 
425                 latestResult = null;
426                 vm.RunNext ();
427                 \textcolor{keywordflow}{if} (latestResult != null)
428                     yield \textcolor{keywordflow}{return} latestResult;
429 
430             \} \textcolor{keywordflow}{while} (\hyperlink{a00072_a8c1319357a9df6cff051328fb33224c7}{vm}.\hyperlink{a00138_a66491da06023dabfb63d09e6ccbba74f}{executionState} != VirtualMachine.ExecutionState.Stopped);
431 
432         \}
\end{DoxyCode}
\hypertarget{a00072_a7a6cabe5612fdcdc4619460431f85112}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!Stop@{Stop}}
\index{Stop@{Stop}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{Stop}]{\setlength{\rightskip}{0pt plus 5cm}void Yarn.\-Dialogue.\-Stop (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{a00072_a7a6cabe5612fdcdc4619460431f85112}

\begin{DoxyCode}
434                            \{
435             \textcolor{keywordflow}{if} (\hyperlink{a00072_a8c1319357a9df6cff051328fb33224c7}{vm} != null)
436                 vm.Stop();
437         \}
\end{DoxyCode}
\hypertarget{a00072_a7acfe32f91b36ee812059f2ad3011133}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!Unload\-All@{Unload\-All}}
\index{Unload\-All@{Unload\-All}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{Unload\-All}]{\setlength{\rightskip}{0pt plus 5cm}void Yarn.\-Dialogue.\-Unload\-All (
\begin{DoxyParamCaption}
\item[{bool}]{clear\-Visited\-Nodes = {\ttfamily true}}
\end{DoxyParamCaption}
)}}\label{a00072_a7acfe32f91b36ee812059f2ad3011133}

\begin{DoxyCode}
544                                                              \{
545             \textcolor{keywordflow}{if} (clearVisitedNodes)
546                 visitedNodeCount.Clear();
547 
548             \hyperlink{a00072_a0a1cca92325f430425d784d416cb5c2b}{program} = null;
549 
550         \}
\end{DoxyCode}
\hypertarget{a00072_a1ab129bd84381928531d503304ca08d6}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!Yarn\-Function\-Is\-Node\-Visited@{Yarn\-Function\-Is\-Node\-Visited}}
\index{Yarn\-Function\-Is\-Node\-Visited@{Yarn\-Function\-Is\-Node\-Visited}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{Yarn\-Function\-Is\-Node\-Visited}]{\setlength{\rightskip}{0pt plus 5cm}object Yarn.\-Dialogue.\-Yarn\-Function\-Is\-Node\-Visited (
\begin{DoxyParamCaption}
\item[{{\bf Value}\mbox{[}$\,$\mbox{]}}]{parameters}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{a00072_a1ab129bd84381928531d503304ca08d6}

\begin{DoxyCode}
236         \{
237             \textcolor{keywordflow}{return} (\textcolor{keywordtype}{int})\hyperlink{a00072_a10c9f22d3f55e74f091cd6069c431094}{YarnFunctionNodeVisitCount}(parameters) > 0;
238         \}
\end{DoxyCode}
\hypertarget{a00072_a10c9f22d3f55e74f091cd6069c431094}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!Yarn\-Function\-Node\-Visit\-Count@{Yarn\-Function\-Node\-Visit\-Count}}
\index{Yarn\-Function\-Node\-Visit\-Count@{Yarn\-Function\-Node\-Visit\-Count}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{Yarn\-Function\-Node\-Visit\-Count}]{\setlength{\rightskip}{0pt plus 5cm}object Yarn.\-Dialogue.\-Yarn\-Function\-Node\-Visit\-Count (
\begin{DoxyParamCaption}
\item[{{\bf Value}\mbox{[}$\,$\mbox{]}}]{parameters}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{a00072_a10c9f22d3f55e74f091cd6069c431094}

\begin{DoxyCode}
202         \{
203             \textcolor{comment}{// Determine the node we're checking}
204             \textcolor{keywordtype}{string} nodeName;
205 
206             \textcolor{keywordflow}{if} (parameters.Length == 0) \{
207                 \textcolor{comment}{// No parameters? Check the current node}
208                 nodeName = vm.currentNodeName;
209             \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (parameters.Length == 1) \{
210                 \textcolor{comment}{// A parameter? Check the named node}
211                 nodeName = parameters [0].AsString;
212 
213                 \textcolor{comment}{// Ensure this node exists}
214                 \textcolor{keywordflow}{if} (\hyperlink{a00072_a93bb76a1f9a4058f225ff4cee97483c6}{NodeExists} (nodeName) == \textcolor{keyword}{false}) \{
215                     var errorMessage = string.Format (\textcolor{stringliteral}{"The node \{0\} does not "} + \textcolor{stringliteral}{"exist."}, nodeName);
216                     \hyperlink{a00072_a9801e83dd044d6498fdf6ebcc6bec5ac}{LogErrorMessage} (errorMessage);
217                     \textcolor{keywordflow}{return} 0;
218                 \}
219             \} \textcolor{keywordflow}{else} \{
220                 \textcolor{comment}{// We got too many parameters}
221                 var errorMessage = string.Format (\textcolor{stringliteral}{"Incorrect number of parameters to "} + \textcolor{stringliteral}{"visitCount
       (expected 0 or 1, got \{0\})"}, parameters.Length);
222                 \hyperlink{a00072_a9801e83dd044d6498fdf6ebcc6bec5ac}{LogErrorMessage} (errorMessage);
223                 \textcolor{keywordflow}{return} 0;
224             \}
225 
226             \textcolor{comment}{// Figure out how many times this node was run}
227             \textcolor{keywordtype}{int} visitCount = 0;
228             visitedNodeCount.TryGetValue (nodeName, out visitCount);
229 
230             \textcolor{keywordflow}{return} visitCount;
231         \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\hypertarget{a00072_ae94eaa4b03b432422f5d205fabe37ff5}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!continuity@{continuity}}
\index{continuity@{continuity}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{continuity}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Variable\-Storage} Yarn.\-Dialogue.\-continuity\hspace{0.3cm}{\ttfamily [package]}}}\label{a00072_ae94eaa4b03b432422f5d205fabe37ff5}
\hypertarget{a00072_a1b643f15f734090e6a58cbf13dafd28f}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!D\-E\-F\-A\-U\-L\-T\-\_\-\-S\-T\-A\-R\-T@{D\-E\-F\-A\-U\-L\-T\-\_\-\-S\-T\-A\-R\-T}}
\index{D\-E\-F\-A\-U\-L\-T\-\_\-\-S\-T\-A\-R\-T@{D\-E\-F\-A\-U\-L\-T\-\_\-\-S\-T\-A\-R\-T}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{D\-E\-F\-A\-U\-L\-T\-\_\-\-S\-T\-A\-R\-T}]{\setlength{\rightskip}{0pt plus 5cm}const string Yarn.\-Dialogue.\-D\-E\-F\-A\-U\-L\-T\-\_\-\-S\-T\-A\-R\-T = \char`\"{}Start\char`\"{}}}\label{a00072_a1b643f15f734090e6a58cbf13dafd28f}
\hypertarget{a00072_a3bc83587462ade6a2f7f42cb7576e50e}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!L\-A\-T\-E\-S\-T\-\_\-\-F\-O\-R\-M\-A\-T@{L\-A\-T\-E\-S\-T\-\_\-\-F\-O\-R\-M\-A\-T}}
\index{L\-A\-T\-E\-S\-T\-\_\-\-F\-O\-R\-M\-A\-T@{L\-A\-T\-E\-S\-T\-\_\-\-F\-O\-R\-M\-A\-T}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{L\-A\-T\-E\-S\-T\-\_\-\-F\-O\-R\-M\-A\-T}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Compiled\-Format} Yarn.\-Dialogue.\-L\-A\-T\-E\-S\-T\-\_\-\-F\-O\-R\-M\-A\-T = Compiled\-Format.\-V1}}\label{a00072_a3bc83587462ade6a2f7f42cb7576e50e}
\hypertarget{a00072_ae660d4cfb6e296358d2f61d8ee74c66a}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!library@{library}}
\index{library@{library}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{library}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Library} Yarn.\-Dialogue.\-library}}\label{a00072_ae660d4cfb6e296358d2f61d8ee74c66a}
\hypertarget{a00072_a98bbe0ac2ccadeeeb7e05e3e6e19f2e0}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!loader@{loader}}
\index{loader@{loader}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{loader}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Loader} Yarn.\-Dialogue.\-loader\hspace{0.3cm}{\ttfamily [package]}}}\label{a00072_a98bbe0ac2ccadeeeb7e05e3e6e19f2e0}
\hypertarget{a00072_a381f48bb0fbb294f8cf44ca57f11be31}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!Log\-Debug\-Message@{Log\-Debug\-Message}}
\index{Log\-Debug\-Message@{Log\-Debug\-Message}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{Log\-Debug\-Message}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Logger} Yarn.\-Dialogue.\-Log\-Debug\-Message}}\label{a00072_a381f48bb0fbb294f8cf44ca57f11be31}
\hypertarget{a00072_a9801e83dd044d6498fdf6ebcc6bec5ac}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!Log\-Error\-Message@{Log\-Error\-Message}}
\index{Log\-Error\-Message@{Log\-Error\-Message}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{Log\-Error\-Message}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Logger} Yarn.\-Dialogue.\-Log\-Error\-Message}}\label{a00072_a9801e83dd044d6498fdf6ebcc6bec5ac}
\hypertarget{a00072_a0a1cca92325f430425d784d416cb5c2b}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!program@{program}}
\index{program@{program}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{program}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Program} Yarn.\-Dialogue.\-program\hspace{0.3cm}{\ttfamily [package]}}}\label{a00072_a0a1cca92325f430425d784d416cb5c2b}
\hypertarget{a00072_aae9e64354066a1e2fa130629959d772b}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!visited\-Node\-Count@{visited\-Node\-Count}}
\index{visited\-Node\-Count@{visited\-Node\-Count}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{visited\-Node\-Count}]{\setlength{\rightskip}{0pt plus 5cm}Dictionary$<${\bf String}, int$>$ Yarn.\-Dialogue.\-visited\-Node\-Count = new Dictionary$<$string, int$>$()}}\label{a00072_aae9e64354066a1e2fa130629959d772b}
\hypertarget{a00072_a8c1319357a9df6cff051328fb33224c7}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!vm@{vm}}
\index{vm@{vm}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{vm}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Virtual\-Machine} Yarn.\-Dialogue.\-vm\hspace{0.3cm}{\ttfamily [private]}}}\label{a00072_a8c1319357a9df6cff051328fb33224c7}


\subsection{Property Documentation}
\hypertarget{a00072_a0ee573e3d072bccf98ba1d975612d42c}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!all\-Nodes@{all\-Nodes}}
\index{all\-Nodes@{all\-Nodes}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{all\-Nodes}]{\setlength{\rightskip}{0pt plus 5cm}I\-Enumerable$<$string$>$ Yarn.\-Dialogue.\-all\-Nodes\hspace{0.3cm}{\ttfamily [get]}}}\label{a00072_a0ee573e3d072bccf98ba1d975612d42c}
\hypertarget{a00072_af368b5c342d585dc6953876c5965ccc8}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!current\-Node@{current\-Node}}
\index{current\-Node@{current\-Node}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{current\-Node}]{\setlength{\rightskip}{0pt plus 5cm}string Yarn.\-Dialogue.\-current\-Node\hspace{0.3cm}{\ttfamily [get]}}}\label{a00072_af368b5c342d585dc6953876c5965ccc8}
\hypertarget{a00072_ac5661051e0b7f44527fe526c7766dbbf}{\index{Yarn\-::\-Dialogue@{Yarn\-::\-Dialogue}!visited\-Nodes@{visited\-Nodes}}
\index{visited\-Nodes@{visited\-Nodes}!Yarn::Dialogue@{Yarn\-::\-Dialogue}}
\subsubsection[{visited\-Nodes}]{\setlength{\rightskip}{0pt plus 5cm}I\-Enumerable$<$string$>$ Yarn.\-Dialogue.\-visited\-Nodes\hspace{0.3cm}{\ttfamily [get]}, {\ttfamily [set]}}}\label{a00072_ac5661051e0b7f44527fe526c7766dbbf}


The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
Yarn\-Spinner/\hyperlink{a00265}{Dialogue.\-cs}\end{DoxyCompactItemize}
