\hypertarget{a00102}{\section{Yarn.\-Error\-Listener Class Reference}
\label{a00102}\index{Yarn.\-Error\-Listener@{Yarn.\-Error\-Listener}}
}


Inheritance diagram for Yarn.\-Error\-Listener\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=174pt]{a00640}
\end{center}
\end{figure}


Collaboration diagram for Yarn.\-Error\-Listener\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=235pt]{a00641}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
override void \hyperlink{a00102_a47fb9f6d50aa6a4e4796dea10b237fe4}{Syntax\-Error} (System.\-I\-O.\-Text\-Writer output, I\-Recognizer recognizer, \hyperlink{a00322_ae3d87b0b748ea892bff48f60862e182d}{I\-Token} offending\-Symbol, int line, int char\-Position\-In\-Line, string msg, Recognition\-Exception e)
\end{DoxyCompactItemize}
\subsection*{Properties}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{a00102}{Error\-Listener} \hyperlink{a00102_a47b8f4f1d414afa1ea6067218c7ee34d}{Instance}\hspace{0.3cm}{\ttfamily  \mbox{[}get\mbox{]}}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{a00102_a1f0cc41aac10bd8a2402355534c1123c}{Error\-Listener} ()
\end{DoxyCompactItemize}
\subsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static readonly \hyperlink{a00102}{Error\-Listener} \hyperlink{a00102_a9421873edea84c51d5905f5a24c62479}{instance} = new \hyperlink{a00102}{Error\-Listener}()
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 9 of file Error\-Listener.\-cs.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{a00102_a1f0cc41aac10bd8a2402355534c1123c}{\index{Yarn\-::\-Error\-Listener@{Yarn\-::\-Error\-Listener}!Error\-Listener@{Error\-Listener}}
\index{Error\-Listener@{Error\-Listener}!Yarn::ErrorListener@{Yarn\-::\-Error\-Listener}}
\subsubsection[{Error\-Listener}]{\setlength{\rightskip}{0pt plus 5cm}Yarn.\-Error\-Listener.\-Error\-Listener (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{a00102_a1f0cc41aac10bd8a2402355534c1123c}


Definition at line 12 of file Error\-Listener.\-cs.


\begin{DoxyCode}
12 \{\}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{a00102_a47fb9f6d50aa6a4e4796dea10b237fe4}{\index{Yarn\-::\-Error\-Listener@{Yarn\-::\-Error\-Listener}!Syntax\-Error@{Syntax\-Error}}
\index{Syntax\-Error@{Syntax\-Error}!Yarn::ErrorListener@{Yarn\-::\-Error\-Listener}}
\subsubsection[{Syntax\-Error}]{\setlength{\rightskip}{0pt plus 5cm}override void Yarn.\-Error\-Listener.\-Syntax\-Error (
\begin{DoxyParamCaption}
\item[{System.\-I\-O.\-Text\-Writer}]{output, }
\item[{I\-Recognizer}]{recognizer, }
\item[{{\bf I\-Token}}]{offending\-Symbol, }
\item[{int}]{line, }
\item[{int}]{char\-Position\-In\-Line, }
\item[{string}]{msg, }
\item[{Recognition\-Exception}]{e}
\end{DoxyParamCaption}
)}}\label{a00102_a47fb9f6d50aa6a4e4796dea10b237fe4}


Definition at line 21 of file Error\-Listener.\-cs.


\begin{DoxyCode}
22         \{
23             StringBuilder builder = \textcolor{keyword}{new} StringBuilder();
24 
25             \textcolor{comment}{// the human readable message}
26             \textcolor{keywordtype}{object}[] format = \textcolor{keyword}{new} \textcolor{keywordtype}{object}[] \{ line, charPositionInLine + 1 \};
27             builder.AppendFormat(CultureInfo.CurrentCulture, \textcolor{stringliteral}{"Error on line \{0\} at position \{1\}:\(\backslash\)n"}, format
      );
28             \textcolor{comment}{// the actual error message}
29             builder.AppendLine(msg);
30 
31             \textcolor{comment}{// the line with the error on it}
32             \textcolor{keywordtype}{string} input = offendingSymbol.TokenSource.InputStream.ToString();
33             \textcolor{keywordtype}{string}[] lines = input.Split(\textcolor{charliteral}{'\(\backslash\)n'});
34             \textcolor{keywordtype}{string} errorLine = lines[line - 1];
35             builder.AppendLine(errorLine);
36 
37             \textcolor{comment}{// adding indicator symbols pointing out where the error is on the line}
38             \textcolor{keywordtype}{int} start = offendingSymbol.StartIndex;
39             \textcolor{keywordtype}{int} stop = offendingSymbol.StopIndex;
40             \textcolor{keywordflow}{if} (start >= 0 && stop >= 0)
41             \{
42                 \textcolor{comment}{// the end point of the error in "line space"}
43                 \textcolor{keywordtype}{int} end = (stop - start) + charPositionInLine + 1;
44                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < end; i++)
45                 \{
46                     \textcolor{comment}{// move over until we are at the point we need to be}
47                     \textcolor{keywordflow}{if} (i >= charPositionInLine && i < end)
48                     \{
49                         builder.Append(\textcolor{stringliteral}{"^"});
50                     \}
51                     \textcolor{keywordflow}{else}
52                     \{
53                         builder.Append(\textcolor{stringliteral}{" "});
54                     \}
55                 \}
56             \}
57             \textcolor{keywordflow}{throw} \textcolor{keyword}{new} \hyperlink{a00149}{Yarn.ParseException}(builder.ToString());
58         \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\hypertarget{a00102_a9421873edea84c51d5905f5a24c62479}{\index{Yarn\-::\-Error\-Listener@{Yarn\-::\-Error\-Listener}!instance@{instance}}
\index{instance@{instance}!Yarn::ErrorListener@{Yarn\-::\-Error\-Listener}}
\subsubsection[{instance}]{\setlength{\rightskip}{0pt plus 5cm}readonly {\bf Error\-Listener} Yarn.\-Error\-Listener.\-instance = new {\bf Error\-Listener}()\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}}\label{a00102_a9421873edea84c51d5905f5a24c62479}


Definition at line 11 of file Error\-Listener.\-cs.



\subsection{Property Documentation}
\hypertarget{a00102_a47b8f4f1d414afa1ea6067218c7ee34d}{\index{Yarn\-::\-Error\-Listener@{Yarn\-::\-Error\-Listener}!Instance@{Instance}}
\index{Instance@{Instance}!Yarn::ErrorListener@{Yarn\-::\-Error\-Listener}}
\subsubsection[{Instance}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Error\-Listener} Yarn.\-Error\-Listener.\-Instance\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [get]}}}\label{a00102_a47b8f4f1d414afa1ea6067218c7ee34d}


Definition at line 14 of file Error\-Listener.\-cs.



Referenced by Yarn.\-Loader.\-Load().



The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
Yarn\-Spinner/\hyperlink{a00309}{Error\-Listener.\-cs}\end{DoxyCompactItemize}
