\hypertarget{a00122}{\section{Yarn.\-Unity.\-Example.\-Player\-Character Class Reference}
\label{a00122}\index{Yarn.\-Unity.\-Example.\-Player\-Character@{Yarn.\-Unity.\-Example.\-Player\-Character}}
}


Inheritance diagram for Yarn.\-Unity.\-Example.\-Player\-Character\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=216pt]{dd/dc1/a00721}
\end{center}
\end{figure}


Collaboration diagram for Yarn.\-Unity.\-Example.\-Player\-Character\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=216pt]{db/d7c/a00722}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{a00122_a574b6d984b8671c7a780d3d10e040a9b}{Check\-For\-Nearby\-N\-P\-C} ()
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
float \hyperlink{a00122_ac025d4f4afaf854f8256e0d2d03e5b52}{min\-Position} = -\/5.\-3f
\item 
float \hyperlink{a00122_ada9dd748a1d89a7f9b12ac8967a07ae6}{max\-Position} = 5.\-3f
\item 
float \hyperlink{a00122_adc602a4b2c7e44e4b15a11f1ffcf07e4}{move\-Speed} = 1.\-0f
\item 
float \hyperlink{a00122_af89807d2195915ee9a0c42317e110fc6}{interaction\-Radius} = 2.\-0f
\end{DoxyCompactItemize}
\subsection*{Properties}
\begin{DoxyCompactItemize}
\item 
float \hyperlink{a00122_a7bcde19f080bfd09bbc833b8fb555cf7}{movement\-From\-Buttons}\hspace{0.3cm}{\ttfamily  \mbox{[}get, set\mbox{]}}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{a00122_a9e83ec3c6e45ee4dd17215e3030f6403}{On\-Draw\-Gizmos\-Selected} ()
\item 
void \hyperlink{a00122_a8e78b2dc1cd221fb9d05b89e70155df4}{Update} ()
\end{DoxyCompactItemize}


\subsection{Detailed Description}


\subsection{Member Function Documentation}
\hypertarget{a00122_a574b6d984b8671c7a780d3d10e040a9b}{\index{Yarn\-::\-Unity\-::\-Example\-::\-Player\-Character@{Yarn\-::\-Unity\-::\-Example\-::\-Player\-Character}!Check\-For\-Nearby\-N\-P\-C@{Check\-For\-Nearby\-N\-P\-C}}
\index{Check\-For\-Nearby\-N\-P\-C@{Check\-For\-Nearby\-N\-P\-C}!Yarn::Unity::Example::PlayerCharacter@{Yarn\-::\-Unity\-::\-Example\-::\-Player\-Character}}
\subsubsection[{Check\-For\-Nearby\-N\-P\-C}]{\setlength{\rightskip}{0pt plus 5cm}void Yarn.\-Unity.\-Example.\-Player\-Character.\-Check\-For\-Nearby\-N\-P\-C (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{a00122_a574b6d984b8671c7a780d3d10e040a9b}

\begin{DoxyCode}
86         \{
87             \textcolor{comment}{// Find all DialogueParticipants, and filter them to}
88             \textcolor{comment}{// those that have a Yarn start node and are in range; }
89             \textcolor{comment}{// then start a conversation with the first one}
90             var allParticipants = \textcolor{keyword}{new} List<NPC> (FindObjectsOfType<NPC> ());
91             var target = allParticipants.Find (delegate (NPC p) \{
92                 \textcolor{keywordflow}{return} string.IsNullOrEmpty (p.talkToNode) == \textcolor{keyword}{false} && \textcolor{comment}{// has a conversation node?}
93                 (p.transform.position - \textcolor{keyword}{this}.transform.position)\textcolor{comment}{// is in range?}
94                 .magnitude <= \hyperlink{a00122_af89807d2195915ee9a0c42317e110fc6}{interactionRadius};
95             \});
96             \textcolor{keywordflow}{if} (target != null) \{
97                 \textcolor{comment}{// Kick off the dialogue at this node.}
98                 FindObjectOfType<DialogueRunner> ().StartDialogue (target.talkToNode);
99             \}
100         \}
\end{DoxyCode}
\hypertarget{a00122_a9e83ec3c6e45ee4dd17215e3030f6403}{\index{Yarn\-::\-Unity\-::\-Example\-::\-Player\-Character@{Yarn\-::\-Unity\-::\-Example\-::\-Player\-Character}!On\-Draw\-Gizmos\-Selected@{On\-Draw\-Gizmos\-Selected}}
\index{On\-Draw\-Gizmos\-Selected@{On\-Draw\-Gizmos\-Selected}!Yarn::Unity::Example::PlayerCharacter@{Yarn\-::\-Unity\-::\-Example\-::\-Player\-Character}}
\subsubsection[{On\-Draw\-Gizmos\-Selected}]{\setlength{\rightskip}{0pt plus 5cm}void Yarn.\-Unity.\-Example.\-Player\-Character.\-On\-Draw\-Gizmos\-Selected (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{a00122_a9e83ec3c6e45ee4dd17215e3030f6403}

\begin{DoxyCode}
44                                     \{
45             Gizmos.color = Color.blue;
46 
47             \textcolor{comment}{// Flatten the sphere into a disk, which looks nicer in 2D games}
48             Gizmos.matrix = Matrix4x4.TRS(transform.position, Quaternion.identity, \textcolor{keyword}{new} Vector3(1,1,0));
49 
50             \textcolor{comment}{// Need to draw at position zero because we set position in the line above}
51             Gizmos.DrawWireSphere(Vector3.zero, \hyperlink{a00122_af89807d2195915ee9a0c42317e110fc6}{interactionRadius});
52         \}
\end{DoxyCode}
\hypertarget{a00122_a8e78b2dc1cd221fb9d05b89e70155df4}{\index{Yarn\-::\-Unity\-::\-Example\-::\-Player\-Character@{Yarn\-::\-Unity\-::\-Example\-::\-Player\-Character}!Update@{Update}}
\index{Update@{Update}!Yarn::Unity::Example::PlayerCharacter@{Yarn\-::\-Unity\-::\-Example\-::\-Player\-Character}}
\subsubsection[{Update}]{\setlength{\rightskip}{0pt plus 5cm}void Yarn.\-Unity.\-Example.\-Player\-Character.\-Update (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{a00122_a8e78b2dc1cd221fb9d05b89e70155df4}

\begin{DoxyCode}
56                        \{
57 
58             \textcolor{comment}{// Remove all player control when we're in dialogue}
59             \textcolor{keywordflow}{if} (FindObjectOfType<DialogueRunner>().isDialogueRunning == \textcolor{keyword}{true}) \{
60                 \textcolor{keywordflow}{return};
61             \}
62 
63             \textcolor{comment}{// Move the player, clamping them to within the boundaries }
64             \textcolor{comment}{// of the level.}
65             var movement = Input.GetAxis(\textcolor{stringliteral}{"Horizontal"});
66             movement += \hyperlink{a00122_a7bcde19f080bfd09bbc833b8fb555cf7}{movementFromButtons};
67             movement *= (\hyperlink{a00122_adc602a4b2c7e44e4b15a11f1ffcf07e4}{moveSpeed} * Time.deltaTime);
68 
69 
70             var newPosition = transform.position;
71             newPosition.x += movement;
72             newPosition.x = Mathf.Clamp(newPosition.x, \hyperlink{a00122_ac025d4f4afaf854f8256e0d2d03e5b52}{minPosition}, 
      \hyperlink{a00122_ada9dd748a1d89a7f9b12ac8967a07ae6}{maxPosition});
73 
74             transform.position = newPosition;
75 
76             \textcolor{comment}{// Detect if we want to start a conversation}
77 
78             \textcolor{keywordflow}{if} (Input.GetKeyDown(KeyCode.Space)) \{
79                 \hyperlink{a00122_a574b6d984b8671c7a780d3d10e040a9b}{CheckForNearbyNPC} ();
80             \}
81         \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\hypertarget{a00122_af89807d2195915ee9a0c42317e110fc6}{\index{Yarn\-::\-Unity\-::\-Example\-::\-Player\-Character@{Yarn\-::\-Unity\-::\-Example\-::\-Player\-Character}!interaction\-Radius@{interaction\-Radius}}
\index{interaction\-Radius@{interaction\-Radius}!Yarn::Unity::Example::PlayerCharacter@{Yarn\-::\-Unity\-::\-Example\-::\-Player\-Character}}
\subsubsection[{interaction\-Radius}]{\setlength{\rightskip}{0pt plus 5cm}float Yarn.\-Unity.\-Example.\-Player\-Character.\-interaction\-Radius = 2.\-0f}}\label{a00122_af89807d2195915ee9a0c42317e110fc6}
\hypertarget{a00122_ada9dd748a1d89a7f9b12ac8967a07ae6}{\index{Yarn\-::\-Unity\-::\-Example\-::\-Player\-Character@{Yarn\-::\-Unity\-::\-Example\-::\-Player\-Character}!max\-Position@{max\-Position}}
\index{max\-Position@{max\-Position}!Yarn::Unity::Example::PlayerCharacter@{Yarn\-::\-Unity\-::\-Example\-::\-Player\-Character}}
\subsubsection[{max\-Position}]{\setlength{\rightskip}{0pt plus 5cm}float Yarn.\-Unity.\-Example.\-Player\-Character.\-max\-Position = 5.\-3f}}\label{a00122_ada9dd748a1d89a7f9b12ac8967a07ae6}
\hypertarget{a00122_ac025d4f4afaf854f8256e0d2d03e5b52}{\index{Yarn\-::\-Unity\-::\-Example\-::\-Player\-Character@{Yarn\-::\-Unity\-::\-Example\-::\-Player\-Character}!min\-Position@{min\-Position}}
\index{min\-Position@{min\-Position}!Yarn::Unity::Example::PlayerCharacter@{Yarn\-::\-Unity\-::\-Example\-::\-Player\-Character}}
\subsubsection[{min\-Position}]{\setlength{\rightskip}{0pt plus 5cm}float Yarn.\-Unity.\-Example.\-Player\-Character.\-min\-Position = -\/5.\-3f}}\label{a00122_ac025d4f4afaf854f8256e0d2d03e5b52}
\hypertarget{a00122_adc602a4b2c7e44e4b15a11f1ffcf07e4}{\index{Yarn\-::\-Unity\-::\-Example\-::\-Player\-Character@{Yarn\-::\-Unity\-::\-Example\-::\-Player\-Character}!move\-Speed@{move\-Speed}}
\index{move\-Speed@{move\-Speed}!Yarn::Unity::Example::PlayerCharacter@{Yarn\-::\-Unity\-::\-Example\-::\-Player\-Character}}
\subsubsection[{move\-Speed}]{\setlength{\rightskip}{0pt plus 5cm}float Yarn.\-Unity.\-Example.\-Player\-Character.\-move\-Speed = 1.\-0f}}\label{a00122_adc602a4b2c7e44e4b15a11f1ffcf07e4}


\subsection{Property Documentation}
\hypertarget{a00122_a7bcde19f080bfd09bbc833b8fb555cf7}{\index{Yarn\-::\-Unity\-::\-Example\-::\-Player\-Character@{Yarn\-::\-Unity\-::\-Example\-::\-Player\-Character}!movement\-From\-Buttons@{movement\-From\-Buttons}}
\index{movement\-From\-Buttons@{movement\-From\-Buttons}!Yarn::Unity::Example::PlayerCharacter@{Yarn\-::\-Unity\-::\-Example\-::\-Player\-Character}}
\subsubsection[{movement\-From\-Buttons}]{\setlength{\rightskip}{0pt plus 5cm}float Yarn.\-Unity.\-Example.\-Player\-Character.\-movement\-From\-Buttons\hspace{0.3cm}{\ttfamily [get]}, {\ttfamily [set]}}}\label{a00122_a7bcde19f080bfd09bbc833b8fb555cf7}


The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
Unity/\-Assets/\-Yarn Spinner/\-Examples/\-Demo Scripts/\hyperlink{a00258}{Player\-Character.\-cs}\end{DoxyCompactItemize}
