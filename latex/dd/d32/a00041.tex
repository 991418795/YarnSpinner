\hypertarget{a00041}{\section{Csv\-Helper.\-Configuration.\-Csv\-Class\-Map$<$ T $>$ Class Template Reference}
\label{a00041}\index{Csv\-Helper.\-Configuration.\-Csv\-Class\-Map$<$ T $>$@{Csv\-Helper.\-Configuration.\-Csv\-Class\-Map$<$ T $>$}}
}


Maps class properties to C\-S\-V fields.  




Inheritance diagram for Csv\-Helper.\-Configuration.\-Csv\-Class\-Map$<$ T $>$\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=232pt]{d1/d98/a00407}
\end{center}
\end{figure}


Collaboration diagram for Csv\-Helper.\-Configuration.\-Csv\-Class\-Map$<$ T $>$\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{dd/dea/a00408}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{a00041_a983d792ae80f888958037eea306b143a}{Construct\-Using} (Expression$<$ Func$<$ T $>$$>$ expression)
\begin{DoxyCompactList}\small\item\em Constructs the row object using the given expression. \end{DoxyCompactList}\item 
virtual \hyperlink{a00050}{Csv\-Property\-Map} \hyperlink{a00041_aa3395a5f657f0dd7c8fe6a0fbf5a03cb}{Map} (Expression$<$ Func$<$ T, object $>$$>$ expression)
\begin{DoxyCompactList}\small\item\em Maps a property to a C\-S\-V field. \end{DoxyCompactList}\item 
virtual \hyperlink{a00055}{Csv\-Property\-Reference\-Map} \hyperlink{a00041_a20365b78c96ac29e3261bcde30e0d746}{References$<$ T\-Class\-Map $>$} (Expression$<$ Func$<$ T, object $>$$>$ expression, params object\mbox{[}$\,$\mbox{]} constructor\-Args)
\begin{DoxyCompactList}\small\item\em Maps a property to another class map. \end{DoxyCompactList}\item 
virtual void \hyperlink{a00040_a83de9d28160d0d3da1e017df554a9481}{Create\-Map} ()
\begin{DoxyCompactList}\small\item\em Called to create the mappings. \end{DoxyCompactList}\item 
virtual \hyperlink{a00050}{Csv\-Property\-Map} \hyperlink{a00040_abab2b5cd5a290fd5d17116430b084420}{Property\-Map$<$ T $>$} (Expression$<$ Func$<$ T, object $>$$>$ expression)
\begin{DoxyCompactList}\small\item\em Gets the property map for the given property expression. \end{DoxyCompactList}\item 
virtual void \hyperlink{a00040_aec2097b09baaaac45171f91592af439d}{Auto\-Map} (bool ignore\-References=false, bool prefix\-Reference\-Headers=false)
\begin{DoxyCompactList}\small\item\em Auto maps all properties for the given type. If a property is mapped again it will override the existing map. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual \hyperlink{a00055}{Csv\-Property\-Reference\-Map} \hyperlink{a00041_a68caeee244e978110a2acae6d3042fc3}{References} (Type type, Expression$<$ Func$<$ T, object $>$$>$ expression, params object\mbox{[}$\,$\mbox{]} constructor\-Args)
\begin{DoxyCompactList}\small\item\em Maps a property to another class map. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Package Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{a00040_a708c455aa7f78a26b55dafc46a587ec3}{Get\-Max\-Index} ()
\begin{DoxyCompactList}\small\item\em Get the largest index for the properties and references. \end{DoxyCompactList}\item 
int \hyperlink{a00040_ac6c1e8ae1d049bd0ef09e7c2d99fbe55}{Re\-Index} (int index\-Start=0)
\begin{DoxyCompactList}\small\item\em Resets the indexes based on the given start index. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Package Functions}
\begin{DoxyCompactItemize}
\item 
static void \hyperlink{a00040_a16b5bb84064e86c2b319348d8a42693d}{Auto\-Map\-Internal} (\hyperlink{a00040}{Csv\-Class\-Map} map, bool ignore\-References, bool prefix\-Reference\-Headers, Linked\-List$<$ Type $>$ map\-Parents, int index\-Start=0)
\begin{DoxyCompactList}\small\item\em Auto maps the given map and checks for circular references as it goes. \end{DoxyCompactList}\item 
static bool \hyperlink{a00040_a4b2f3fc2e0670d17566b4705b7b622aa}{Check\-For\-Circular\-Reference} (Type type, Linked\-List$<$ Type $>$ map\-Parents)
\begin{DoxyCompactList}\small\item\em Checks for circular references. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Properties}
\begin{DoxyCompactItemize}
\item 
virtual New\-Expression \hyperlink{a00040_ae8038b36db7584ef1a73852fcc46404b}{Constructor}\hspace{0.3cm}{\ttfamily  \mbox{[}get, set\mbox{]}}
\begin{DoxyCompactList}\small\item\em Gets the constructor expression. \end{DoxyCompactList}\item 
virtual \hyperlink{a00051}{Csv\-Property\-Map\-Collection} \hyperlink{a00040_a9580e897abcba144f3101eb983348e25}{Property\-Maps}\hspace{0.3cm}{\ttfamily  \mbox{[}get\mbox{]}}
\begin{DoxyCompactList}\small\item\em The class property mappings. \end{DoxyCompactList}\item 
virtual List\\*
$<$ \hyperlink{a00055}{Csv\-Property\-Reference\-Map} $>$ \hyperlink{a00040_a6dfbf8f743b16d2ec83edef865ea2d9e}{Reference\-Maps}\hspace{0.3cm}{\ttfamily  \mbox{[}get\mbox{]}}
\begin{DoxyCompactList}\small\item\em The class property reference mappings. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Maps class properties to C\-S\-V fields. 


\begin{DoxyTemplParams}{Template Parameters}
{\em T} & The Type of class to map.\\
\hline
\end{DoxyTemplParams}


\subsection{Member Function Documentation}
\hypertarget{a00040_aec2097b09baaaac45171f91592af439d}{\index{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}!Auto\-Map@{Auto\-Map}}
\index{Auto\-Map@{Auto\-Map}!CsvHelper::Configuration::CsvClassMap< T >@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}}
\subsubsection[{Auto\-Map}]{\setlength{\rightskip}{0pt plus 5cm}virtual void Csv\-Helper.\-Configuration.\-Csv\-Class\-Map.\-Auto\-Map (
\begin{DoxyParamCaption}
\item[{bool}]{ignore\-References = {\ttfamily false}, }
\item[{bool}]{prefix\-Reference\-Headers = {\ttfamily false}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}, {\ttfamily [inherited]}}}\label{a00040_aec2097b09baaaac45171f91592af439d}


Auto maps all properties for the given type. If a property is mapped again it will override the existing map. 


\begin{DoxyParams}{Parameters}
{\em ignore\-References} & A value indicating if references should be ignored when auto mapping. True to ignore references, otherwise false.\\
\hline
{\em prefix\-Reference\-Headers} & A value indicating if headers of reference properties should get prefixed by the parent property name. True to prefix, otherwise false.\\
\hline
\end{DoxyParams}

\begin{DoxyCode}
93         \{
94             var mapParents = \textcolor{keyword}{new} LinkedList<Type>();
95             \hyperlink{a00040_a16b5bb84064e86c2b319348d8a42693d}{AutoMapInternal}( \textcolor{keyword}{this}, ignoreReferences, prefixReferenceHeaders, mapParents );
96         \}
\end{DoxyCode}
\hypertarget{a00040_a16b5bb84064e86c2b319348d8a42693d}{\index{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}!Auto\-Map\-Internal@{Auto\-Map\-Internal}}
\index{Auto\-Map\-Internal@{Auto\-Map\-Internal}!CsvHelper::Configuration::CsvClassMap< T >@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}}
\subsubsection[{Auto\-Map\-Internal}]{\setlength{\rightskip}{0pt plus 5cm}static void Csv\-Helper.\-Configuration.\-Csv\-Class\-Map.\-Auto\-Map\-Internal (
\begin{DoxyParamCaption}
\item[{{\bf Csv\-Class\-Map}}]{map, }
\item[{bool}]{ignore\-References, }
\item[{bool}]{prefix\-Reference\-Headers, }
\item[{Linked\-List$<$ Type $>$}]{map\-Parents, }
\item[{int}]{index\-Start = {\ttfamily 0}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [package]}, {\ttfamily [inherited]}}}\label{a00040_a16b5bb84064e86c2b319348d8a42693d}


Auto maps the given map and checks for circular references as it goes. 


\begin{DoxyParams}{Parameters}
{\em map} & The map to auto map.\\
\hline
{\em ignore\-References} & A value indicating if references should be ignored when auto mapping. True to ignore references, otherwise false.\\
\hline
{\em prefix\-Reference\-Headers} & A value indicating if headers of reference properties should get prefixed by the parent property name. True to prefix, otherwise false.\\
\hline
{\em map\-Parents} & The list of parents for the map.\\
\hline
\end{DoxyParams}

\begin{DoxyCode}
154         \{
155             var type = map.GetType().GetTypeInfo().BaseType.GetGenericArguments()[0];
156             \textcolor{keywordflow}{if}( typeof( IEnumerable ).IsAssignableFrom( type ) )
157             \{
158                 \textcolor{keywordflow}{throw} \textcolor{keyword}{new} CsvConfigurationException( \textcolor{stringliteral}{"Types that inherit IEnumerable cannot be auto mapped.
       "} +
159                                                      \textcolor{stringliteral}{"Did you accidentally call GetRecord or WriteRecord
       which "} +
160                                                      \textcolor{stringliteral}{"acts on a single record instead of calling GetRecords
       or "} +
161                                                      \textcolor{stringliteral}{"WriteRecords which acts on a list of records?"} );
162             \}
163 
164             var properties = type.GetProperties( BindingFlags.Instance | BindingFlags.Public );
165             \textcolor{keywordflow}{foreach}( var property \textcolor{keywordflow}{in} properties )
166             \{
167                 var typeConverterType = TypeConverterFactory.GetConverter( property.PropertyType ).GetType(
      );
168                 \textcolor{keywordflow}{if}( typeConverterType == typeof( \hyperlink{a00078}{EnumerableConverter} ) )
169                 \{
170                     \textcolor{comment}{// The IEnumerable converter just throws an exception so skip it.}
171                     \textcolor{keywordflow}{continue};
172                 \}
173 
174                 var isDefaultConverter = typeConverterType == typeof( 
      \hyperlink{a00068}{DefaultTypeConverter} );
175                 var hasDefaultConstructor = property.PropertyType.GetConstructor( \textcolor{keyword}{new} Type[0] ) != null;
176                 \textcolor{keywordflow}{if}( isDefaultConverter && hasDefaultConstructor )
177                 \{
178                     \textcolor{keywordflow}{if}( ignoreReferences )
179                     \{
180                         \textcolor{keywordflow}{continue};
181                     \}
182 
183                     \textcolor{comment}{// If the type is not one covered by our type converters}
184                     \textcolor{comment}{// and it has a parameterless constructor, create a}
185                     \textcolor{comment}{// reference map for it.}
186                     \textcolor{keywordflow}{if}( \hyperlink{a00040_a4b2f3fc2e0670d17566b4705b7b622aa}{CheckForCircularReference}( property.PropertyType, 
      mapParents ) )
187                     \{
188                         \textcolor{keywordflow}{continue};
189                     \}
190 
191                     mapParents.AddLast( type );
192                     var refMapType = typeof( DefaultCsvClassMap<> ).MakeGenericType( property.PropertyType 
      );
193                     var refMap = (\hyperlink{a00040_affc5ae8f2b0406d496bcbdf246da6210}{CsvClassMap})ReflectionHelper.CreateInstance( refMapType );
194                     \hyperlink{a00040_a16b5bb84064e86c2b319348d8a42693d}{AutoMapInternal}( refMap, \textcolor{keyword}{false}, prefixReferenceHeaders, mapParents, map.
      GetMaxIndex() + 1 );
195 
196                     \textcolor{keywordflow}{if}( refMap.PropertyMaps.Count > 0 || refMap.ReferenceMaps.Count > 0 )
197                     \{
198                         var referenceMap = \textcolor{keyword}{new} CsvPropertyReferenceMap( property, refMap );
199                         \textcolor{keywordflow}{if}( prefixReferenceHeaders )
200                         \{
201                             referenceMap.Prefix();
202                         \}
203 
204                         map.ReferenceMaps.Add( referenceMap );
205                     \}
206                 \}
207                 \textcolor{keywordflow}{else}
208                 \{
209                     var propertyMap = \textcolor{keyword}{new} CsvPropertyMap( property );
210                     propertyMap.Data.Index = map.GetMaxIndex() + 1;
211                     \textcolor{keywordflow}{if}( propertyMap.Data.TypeConverter.CanConvertFrom( typeof( \textcolor{keywordtype}{string} ) ) ||
212                         propertyMap.Data.TypeConverter.CanConvertTo( typeof( \textcolor{keywordtype}{string} ) ) && !
      isDefaultConverter )
213                     \{
214                         \textcolor{comment}{// Only add the property map if it can be converted later on.}
215                         \textcolor{comment}{// If the property will use the default converter, don't add it because}
216                         \textcolor{comment}{// we don't want the .ToString() value to be used when auto mapping.}
217                         map.PropertyMaps.Add( propertyMap );
218                     \}
219                 \}
220             \}
221 
222             map.ReIndex( indexStart );
223         \}
\end{DoxyCode}
\hypertarget{a00040_a4b2f3fc2e0670d17566b4705b7b622aa}{\index{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}!Check\-For\-Circular\-Reference@{Check\-For\-Circular\-Reference}}
\index{Check\-For\-Circular\-Reference@{Check\-For\-Circular\-Reference}!CsvHelper::Configuration::CsvClassMap< T >@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}}
\subsubsection[{Check\-For\-Circular\-Reference}]{\setlength{\rightskip}{0pt plus 5cm}static bool Csv\-Helper.\-Configuration.\-Csv\-Class\-Map.\-Check\-For\-Circular\-Reference (
\begin{DoxyParamCaption}
\item[{Type}]{type, }
\item[{Linked\-List$<$ Type $>$}]{map\-Parents}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [package]}, {\ttfamily [inherited]}}}\label{a00040_a4b2f3fc2e0670d17566b4705b7b622aa}


Checks for circular references. 


\begin{DoxyParams}{Parameters}
{\em type} & The type to check for.\\
\hline
{\em map\-Parents} & The list of parents to check against.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A value indicating if a circular reference was found. True if a circular reference was found, otherwise false.
\end{DoxyReturn}

\begin{DoxyCode}
233         \{
234             \textcolor{keywordflow}{if}( mapParents.Count == 0 )
235             \{
236                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};
237             \}
238 
239             var node = mapParents.Last;
240             \textcolor{keywordflow}{while}( \textcolor{keyword}{true} )
241             \{
242                 \textcolor{keywordflow}{if}( node.Value == type )
243                 \{
244                     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
245                 \}
246 
247                 node = node.Previous;
248                 \textcolor{keywordflow}{if}( node == null )
249                 \{
250                     \textcolor{keywordflow}{break};
251                 \}
252             \}
253 
254             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
255         \}
\end{DoxyCode}
\hypertarget{a00041_a983d792ae80f888958037eea306b143a}{\index{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}!Construct\-Using@{Construct\-Using}}
\index{Construct\-Using@{Construct\-Using}!CsvHelper::Configuration::CsvClassMap< T >@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}}
\subsubsection[{Construct\-Using}]{\setlength{\rightskip}{0pt plus 5cm}virtual void {\bf Csv\-Helper.\-Configuration.\-Csv\-Class\-Map}$<$ T $>$.Construct\-Using (
\begin{DoxyParamCaption}
\item[{Expression$<$ Func$<$ T $>$$>$}]{expression}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{a00041_a983d792ae80f888958037eea306b143a}


Constructs the row object using the given expression. 


\begin{DoxyParams}{Parameters}
{\em expression} & The expression.\\
\hline
\end{DoxyParams}

\begin{DoxyCode}
27         \{
28             \hyperlink{a00040_ae8038b36db7584ef1a73852fcc46404b}{Constructor} = ReflectionHelper.GetConstructor( expression );
29         \}
\end{DoxyCode}
\hypertarget{a00040_a83de9d28160d0d3da1e017df554a9481}{\index{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}!Create\-Map@{Create\-Map}}
\index{Create\-Map@{Create\-Map}!CsvHelper::Configuration::CsvClassMap< T >@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}}
\subsubsection[{Create\-Map}]{\setlength{\rightskip}{0pt plus 5cm}virtual void Csv\-Helper.\-Configuration.\-Csv\-Class\-Map.\-Create\-Map (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}, {\ttfamily [inherited]}}}\label{a00040_a83de9d28160d0d3da1e017df554a9481}


Called to create the mappings. 


\begin{DoxyCode}
28 \{\}
\end{DoxyCode}
\hypertarget{a00040_a708c455aa7f78a26b55dafc46a587ec3}{\index{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}!Get\-Max\-Index@{Get\-Max\-Index}}
\index{Get\-Max\-Index@{Get\-Max\-Index}!CsvHelper::Configuration::CsvClassMap< T >@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}}
\subsubsection[{Get\-Max\-Index}]{\setlength{\rightskip}{0pt plus 5cm}int Csv\-Helper.\-Configuration.\-Csv\-Class\-Map.\-Get\-Max\-Index (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [package]}, {\ttfamily [inherited]}}}\label{a00040_a708c455aa7f78a26b55dafc46a587ec3}


Get the largest index for the properties and references. 

\begin{DoxyReturn}{Returns}
The max index.
\end{DoxyReturn}

\begin{DoxyCode}
104         \{
105             \textcolor{keywordflow}{if}( \hyperlink{a00040_a9580e897abcba144f3101eb983348e25}{PropertyMaps}.\hyperlink{a00051_a45cac3a36ac638d4d4b723b7ceb93b5c}{Count} == 0 && \hyperlink{a00040_a6dfbf8f743b16d2ec83edef865ea2d9e}{ReferenceMaps}.Count == 0 )
106             \{
107                 \textcolor{keywordflow}{return} -1;
108             \}
109 
110             var indexes = \textcolor{keyword}{new} List<int>();
111             \textcolor{keywordflow}{if}( \hyperlink{a00040_a9580e897abcba144f3101eb983348e25}{PropertyMaps}.\hyperlink{a00051_a45cac3a36ac638d4d4b723b7ceb93b5c}{Count} > 0 )
112             \{
113                 indexes.Add( PropertyMaps.Max( pm => pm.Data.Index ) );
114             \}
115             indexes.AddRange( ReferenceMaps.Select( referenceMap => referenceMap.GetMaxIndex() ) );
116 
117             \textcolor{keywordflow}{return} indexes.Max();
118         \}
\end{DoxyCode}
\hypertarget{a00041_aa3395a5f657f0dd7c8fe6a0fbf5a03cb}{\index{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}!Map@{Map}}
\index{Map@{Map}!CsvHelper::Configuration::CsvClassMap< T >@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}}
\subsubsection[{Map}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf Csv\-Property\-Map} {\bf Csv\-Helper.\-Configuration.\-Csv\-Class\-Map}$<$ T $>$.Map (
\begin{DoxyParamCaption}
\item[{Expression$<$ Func$<$ T, object $>$$>$}]{expression}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{a00041_aa3395a5f657f0dd7c8fe6a0fbf5a03cb}


Maps a property to a C\-S\-V field. 


\begin{DoxyParams}{Parameters}
{\em expression} & The property to map.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The property mapping.
\end{DoxyReturn}

\begin{DoxyCode}
37         \{
38             var \textcolor{keyword}{property} = ReflectionHelper.GetProperty( expression );
39 
40             var existingMap = PropertyMaps.SingleOrDefault( m =>
41                 m.Data.Property == \textcolor{keyword}{property}
42                 || m.Data.Property.Name == property.Name
43                 && ( m.Data.Property.DeclaringType.GetTypeInfo().IsAssignableFrom( property.DeclaringType.
      GetTypeInfo() ) || property.DeclaringType.IsAssignableFrom( m.Data.Property.DeclaringType ) ) );
44             \textcolor{keywordflow}{if}( existingMap != null )
45             \{
46                 \textcolor{keywordflow}{return} existingMap;
47             \}
48 
49             var propertyMap = \textcolor{keyword}{new} CsvPropertyMap( property );
50             propertyMap.Data.Index = \hyperlink{a00040_a708c455aa7f78a26b55dafc46a587ec3}{GetMaxIndex}() + 1;
51             PropertyMaps.Add( propertyMap );
52 
53             \textcolor{keywordflow}{return} propertyMap;
54         \}
\end{DoxyCode}
\hypertarget{a00040_abab2b5cd5a290fd5d17116430b084420}{\index{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}!Property\-Map$<$ T $>$@{Property\-Map$<$ T $>$}}
\index{Property\-Map$<$ T $>$@{Property\-Map$<$ T $>$}!CsvHelper::Configuration::CsvClassMap< T >@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}}
\subsubsection[{Property\-Map$<$ T $>$}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf Csv\-Property\-Map} Csv\-Helper.\-Configuration.\-Csv\-Class\-Map.\-Property\-Map$<$ T $>$ (
\begin{DoxyParamCaption}
\item[{Expression$<$ Func$<$ T, object $>$$>$}]{expression}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}, {\ttfamily [inherited]}}}\label{a00040_abab2b5cd5a290fd5d17116430b084420}


Gets the property map for the given property expression. 


\begin{DoxyTemplParams}{Template Parameters}
{\em T} & The type of the class the property belongs to.\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{Parameters}
{\em expression} & The property expression.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The \hyperlink{a00050}{Csv\-Property\-Map} for the given expression.
\end{DoxyReturn}

\begin{DoxyCode}
64         \{
65             var \textcolor{keyword}{property} = ReflectionHelper.GetProperty( expression );
66 
67             var existingMap = PropertyMaps.SingleOrDefault( m =>
68                 m.Data.Property == \textcolor{keyword}{property}
69                 || m.Data.Property.Name == property.Name
70                 && ( m.Data.Property.DeclaringType.IsAssignableFrom( property.DeclaringType ) || property.
      DeclaringType.IsAssignableFrom( m.Data.Property.DeclaringType ) ) );
71             \textcolor{keywordflow}{if}( existingMap != null )
72             \{
73                 \textcolor{keywordflow}{return} existingMap;
74             \}
75 
76             var propertyMap = \textcolor{keyword}{new} CsvPropertyMap( property );
77             propertyMap.Data.Index = \hyperlink{a00040_a708c455aa7f78a26b55dafc46a587ec3}{GetMaxIndex}() + 1;
78             PropertyMaps.Add( propertyMap );
79 
80             \textcolor{keywordflow}{return} propertyMap;
81         \}
\end{DoxyCode}
\hypertarget{a00041_a68caeee244e978110a2acae6d3042fc3}{\index{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}!References@{References}}
\index{References@{References}!CsvHelper::Configuration::CsvClassMap< T >@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}}
\subsubsection[{References}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf Csv\-Property\-Reference\-Map} {\bf Csv\-Helper.\-Configuration.\-Csv\-Class\-Map}$<$ T $>$.References (
\begin{DoxyParamCaption}
\item[{Type}]{type, }
\item[{Expression$<$ Func$<$ T, object $>$$>$}]{expression, }
\item[{params object\mbox{[}$\,$\mbox{]}}]{constructor\-Args}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{a00041_a68caeee244e978110a2acae6d3042fc3}


Maps a property to another class map. 


\begin{DoxyParams}{Parameters}
{\em type} & The type.\\
\hline
{\em expression} & The expression.\\
\hline
{\em constructor\-Args} & Constructor arguments used to create the reference map.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The reference mapping for the property
\end{DoxyReturn}

\begin{DoxyCode}
94         \{
95             var \textcolor{keyword}{property} = ReflectionHelper.GetProperty( expression );
96             var existingMap = ReferenceMaps.SingleOrDefault( m =>
97                 m.Data.Property == \textcolor{keyword}{property}
98                 || m.Data.Property.Name == property.Name
99                 && ( m.Data.Property.DeclaringType.IsAssignableFrom( property.DeclaringType ) || property.
      DeclaringType.IsAssignableFrom( m.Data.Property.DeclaringType ) ) );
100             \textcolor{keywordflow}{if}( existingMap != null )
101             \{
102                 \textcolor{keywordflow}{return} existingMap;
103             \}
104 
105             var map = (\hyperlink{a00040_affc5ae8f2b0406d496bcbdf246da6210}{CsvClassMap})ReflectionHelper.CreateInstance( type, constructorArgs );
106             map.CreateMap();
107             map.ReIndex( \hyperlink{a00040_a708c455aa7f78a26b55dafc46a587ec3}{GetMaxIndex}() + 1 );
108             var reference = \textcolor{keyword}{new} CsvPropertyReferenceMap( property, map );
109             ReferenceMaps.Add( reference );
110 
111             \textcolor{keywordflow}{return} reference;
112         \}
\end{DoxyCode}
\hypertarget{a00041_a20365b78c96ac29e3261bcde30e0d746}{\index{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}!References$<$ T\-Class\-Map $>$@{References$<$ T\-Class\-Map $>$}}
\index{References$<$ T\-Class\-Map $>$@{References$<$ T\-Class\-Map $>$}!CsvHelper::Configuration::CsvClassMap< T >@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}}
\subsubsection[{References$<$ T\-Class\-Map $>$}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf Csv\-Property\-Reference\-Map} {\bf Csv\-Helper.\-Configuration.\-Csv\-Class\-Map}$<$ T $>$.{\bf References}$<$ T\-Class\-Map $>$ (
\begin{DoxyParamCaption}
\item[{Expression$<$ Func$<$ T, object $>$$>$}]{expression, }
\item[{params object\mbox{[}$\,$\mbox{]}}]{constructor\-Args}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{a00041_a20365b78c96ac29e3261bcde30e0d746}


Maps a property to another class map. 


\begin{DoxyTemplParams}{Template Parameters}
{\em T\-Class\-Map} & The type of the class map.\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{Parameters}
{\em expression} & The expression.\\
\hline
{\em constructor\-Args} & Constructor arguments used to create the reference map.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The reference mapping for the property.
\end{DoxyReturn}
\begin{Desc}
\item[Type Constraints]\begin{description}
\item[{\em T\-Class\-Map} : {\em Csv\-Class\-Map}]\end{description}
\end{Desc}

\begin{DoxyCode}
63                                                                                                            
                                                           : \hyperlink{a00040_affc5ae8f2b0406d496bcbdf246da6210}{CsvClassMap}
64         \{
65             var \textcolor{keyword}{property} = ReflectionHelper.GetProperty( expression );
66 
67             var existingMap = ReferenceMaps.SingleOrDefault( m =>
68                 m.Data.Property == \textcolor{keyword}{property}
69                 || m.Data.Property.Name == property.Name
70                 && ( m.Data.Property.DeclaringType.IsAssignableFrom( property.DeclaringType ) || property.
      DeclaringType.IsAssignableFrom( m.Data.Property.DeclaringType ) ) );
71             \textcolor{keywordflow}{if}( existingMap != null )
72             \{
73                 \textcolor{keywordflow}{return} existingMap;
74             \}
75 
76             var map = ReflectionHelper.CreateInstance<TClassMap>( constructorArgs );
77             map.CreateMap();
78             map.ReIndex( \hyperlink{a00040_a708c455aa7f78a26b55dafc46a587ec3}{GetMaxIndex}() + 1 );
79             var reference = \textcolor{keyword}{new} CsvPropertyReferenceMap( property, map );
80             ReferenceMaps.Add( reference );
81 
82             \textcolor{keywordflow}{return} reference;
83         \}
\end{DoxyCode}
\hypertarget{a00040_ac6c1e8ae1d049bd0ef09e7c2d99fbe55}{\index{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}!Re\-Index@{Re\-Index}}
\index{Re\-Index@{Re\-Index}!CsvHelper::Configuration::CsvClassMap< T >@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}}
\subsubsection[{Re\-Index}]{\setlength{\rightskip}{0pt plus 5cm}int Csv\-Helper.\-Configuration.\-Csv\-Class\-Map.\-Re\-Index (
\begin{DoxyParamCaption}
\item[{int}]{index\-Start = {\ttfamily 0}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [package]}, {\ttfamily [inherited]}}}\label{a00040_ac6c1e8ae1d049bd0ef09e7c2d99fbe55}


Resets the indexes based on the given start index. 


\begin{DoxyParams}{Parameters}
{\em index\-Start} & The index start.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The last index + 1.
\end{DoxyReturn}

\begin{DoxyCode}
126         \{
127             \textcolor{keywordflow}{foreach}( var propertyMap \textcolor{keywordflow}{in} \hyperlink{a00040_a9580e897abcba144f3101eb983348e25}{PropertyMaps} )
128             \{
129                 \textcolor{keywordflow}{if}( !propertyMap.Data.IsIndexSet )
130                 \{
131                     propertyMap.Data.Index = indexStart + propertyMap.Data.Index;
132                 \}
133             \}
134 
135             \textcolor{keywordflow}{foreach}( var referenceMap \textcolor{keywordflow}{in} \hyperlink{a00040_a6dfbf8f743b16d2ec83edef865ea2d9e}{ReferenceMaps} )
136             \{
137                 indexStart = referenceMap.Data.Mapping.ReIndex( indexStart );
138             \}
139 
140             \textcolor{keywordflow}{return} indexStart;
141         \}
\end{DoxyCode}


\subsection{Property Documentation}
\hypertarget{a00040_ae8038b36db7584ef1a73852fcc46404b}{\index{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}!Constructor@{Constructor}}
\index{Constructor@{Constructor}!CsvHelper::Configuration::CsvClassMap< T >@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}}
\subsubsection[{Constructor}]{\setlength{\rightskip}{0pt plus 5cm}virtual New\-Expression Csv\-Helper.\-Configuration.\-Csv\-Class\-Map.\-Constructor\hspace{0.3cm}{\ttfamily [get]}, {\ttfamily [set]}, {\ttfamily [inherited]}}}\label{a00040_ae8038b36db7584ef1a73852fcc46404b}


Gets the constructor expression. 

\hypertarget{a00040_a9580e897abcba144f3101eb983348e25}{\index{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}!Property\-Maps@{Property\-Maps}}
\index{Property\-Maps@{Property\-Maps}!CsvHelper::Configuration::CsvClassMap< T >@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}}
\subsubsection[{Property\-Maps}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf Csv\-Property\-Map\-Collection} Csv\-Helper.\-Configuration.\-Csv\-Class\-Map.\-Property\-Maps\hspace{0.3cm}{\ttfamily [get]}, {\ttfamily [inherited]}}}\label{a00040_a9580e897abcba144f3101eb983348e25}


The class property mappings. 

\hypertarget{a00040_a6dfbf8f743b16d2ec83edef865ea2d9e}{\index{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}!Reference\-Maps@{Reference\-Maps}}
\index{Reference\-Maps@{Reference\-Maps}!CsvHelper::Configuration::CsvClassMap< T >@{Csv\-Helper\-::\-Configuration\-::\-Csv\-Class\-Map$<$ T $>$}}
\subsubsection[{Reference\-Maps}]{\setlength{\rightskip}{0pt plus 5cm}virtual List$<${\bf Csv\-Property\-Reference\-Map}$>$ Csv\-Helper.\-Configuration.\-Csv\-Class\-Map.\-Reference\-Maps\hspace{0.3cm}{\ttfamily [get]}, {\ttfamily [inherited]}}}\label{a00040_a6dfbf8f743b16d2ec83edef865ea2d9e}


The class property reference mappings. 



The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
packages/\-Csv\-Helper.\-2.\-16.\-0.\-0/src/\-Csv\-Helper/\-Configuration/\hyperlink{a00183}{Csv\-Class\-Map`1.\-cs}\end{DoxyCompactItemize}
