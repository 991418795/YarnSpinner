\hypertarget{a00169}{\section{Yarn.\-Yarn\-Spinner\-Console Class Reference}
\label{a00169}\index{Yarn.\-Yarn\-Spinner\-Console@{Yarn.\-Yarn\-Spinner\-Console}}
}


Collaboration diagram for Yarn.\-Yarn\-Spinner\-Console\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=226pt]{d2/d6e/a00667}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{a00034}{Console\-Runner\-Implementation}
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \hyperlink{a00169_a2f63f9f5b7634cb50ee75ff2eb18b137}{Error} (params string\mbox{[}$\,$\mbox{]} messages)
\item 
static void \hyperlink{a00169_a939cc9e943c574b36c6af93e9c772702}{Note} (params string\mbox{[}$\,$\mbox{]} messages)
\item 
static void \hyperlink{a00169_a979bb6f049b6c5294f745a19e24ddd9d}{Warn} (params string\mbox{[}$\,$\mbox{]} messages)
\item 
static void \hyperlink{a00169_a1d71ff2eb190449ea1d42ce86f44489f}{Main} (string\mbox{[}$\,$\mbox{]} args)
\end{DoxyCompactItemize}
\subsection*{Static Package Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{a00070}{Dialogue} \hyperlink{a00169_aff69d6e16dddb077f87a616a57cd3c66}{Create\-Dialogue\-For\-Utilities} ()
\item 
static void \hyperlink{a00169_ad77564b25725a771f0fd4da430582e6f}{Check\-File\-List} (I\-List$<$ string $>$ paths, List$<$ string $>$ allowed\-Extensions)
\item 
static \hyperlink{a00070}{Dialogue} \hyperlink{a00169_aab244361a510cee18ad2f636d110e0d5}{Create\-Dialogue} (\hyperlink{a00079}{Execution\-Options} options, \hyperlink{a00034}{Console\-Runner\-Implementation} impl)
\end{DoxyCompactItemize}
\subsection*{Static Package Attributes}
\begin{DoxyCompactItemize}
\item 
static List$<$ string $>$ \hyperlink{a00169_a0979de7ea02c8c0375b8220a12e6575e}{A\-L\-L\-O\-W\-E\-D\-\_\-\-E\-X\-T\-E\-N\-S\-I\-O\-N\-S} = new List$<$string$>$(new string\mbox{[}$\,$\mbox{]} \{ \char`\"{}.json\char`\"{}, \char`\"{}.node\char`\"{}, \char`\"{}.yarn.\-bytes\char`\"{}, \char`\"{}.yarn.\-txt\char`\"{} \})
\end{DoxyCompactItemize}
\subsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static int \hyperlink{a00169_a1b974c55540795a9e643c2ec055fbd51}{Run} (\hyperlink{a00131}{Run\-Options} options)
\item 
static int \hyperlink{a00169_a029a5624e7cc3a16ae586b64f13049de}{Verify} (\hyperlink{a00166}{Verify\-Options} options)
\end{DoxyCompactItemize}


\subsection{Detailed Description}


\subsection{Member Function Documentation}
\hypertarget{a00169_ad77564b25725a771f0fd4da430582e6f}{\index{Yarn\-::\-Yarn\-Spinner\-Console@{Yarn\-::\-Yarn\-Spinner\-Console}!Check\-File\-List@{Check\-File\-List}}
\index{Check\-File\-List@{Check\-File\-List}!Yarn::YarnSpinnerConsole@{Yarn\-::\-Yarn\-Spinner\-Console}}
\subsubsection[{Check\-File\-List}]{\setlength{\rightskip}{0pt plus 5cm}static void Yarn.\-Yarn\-Spinner\-Console.\-Check\-File\-List (
\begin{DoxyParamCaption}
\item[{I\-List$<$ string $>$}]{paths, }
\item[{List$<$ string $>$}]{allowed\-Extensions}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [package]}}}\label{a00169_ad77564b25725a771f0fd4da430582e6f}

\begin{DoxyCode}
202         \{
203 
204             \textcolor{keywordflow}{if} (paths.Count == 0)
205             \{
206                 \hyperlink{a00169_a979bb6f049b6c5294f745a19e24ddd9d}{Warn}(\textcolor{stringliteral}{"No files provided."});
207                 \textcolor{keywordflow}{return};
208             \}
209 
210             var invalid = \textcolor{keyword}{new} List<string>();
211 
212             \textcolor{keywordflow}{foreach} (var path \textcolor{keywordflow}{in} paths)
213             \{
214                 \textcolor{comment}{// Does this file exist?}
215                 var exists = System.IO.File.Exists(path);
216 
217                 \textcolor{comment}{// Does this file have the right extension?}
218 
219                 var hasAllowedExtension = allowedExtensions.FindIndex(item => path.EndsWith(item)) != -1;
220 
221                 \textcolor{keywordflow}{if} (!exists || !hasAllowedExtension)
222                 \{
223                     invalid.Add(string.Format(\textcolor{stringliteral}{"\(\backslash\)"\{0\}\(\backslash\)""}, path));
224                 \}
225             \}
226 
227             \textcolor{keywordflow}{if} (invalid.Count != 0)
228             \{
229 
230                 var message = string.Format(\textcolor{stringliteral}{"The file\{0\} \{1\} \{2\}."},
231                     invalid.Count == 1 ? \textcolor{stringliteral}{""} : \textcolor{stringliteral}{"s"},
232                                             string.Join(\textcolor{stringliteral}{", "}, invalid.ToArray()),
233                     invalid.Count == 1 ? \textcolor{stringliteral}{"is not valid"} : \textcolor{stringliteral}{"are not valid"}
234                 );
235 
236                 \hyperlink{a00169_a2f63f9f5b7634cb50ee75ff2eb18b137}{Error}(message);
237             \}
238         \}
\end{DoxyCode}
\hypertarget{a00169_aab244361a510cee18ad2f636d110e0d5}{\index{Yarn\-::\-Yarn\-Spinner\-Console@{Yarn\-::\-Yarn\-Spinner\-Console}!Create\-Dialogue@{Create\-Dialogue}}
\index{Create\-Dialogue@{Create\-Dialogue}!Yarn::YarnSpinnerConsole@{Yarn\-::\-Yarn\-Spinner\-Console}}
\subsubsection[{Create\-Dialogue}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf Dialogue} Yarn.\-Yarn\-Spinner\-Console.\-Create\-Dialogue (
\begin{DoxyParamCaption}
\item[{{\bf Execution\-Options}}]{options, }
\item[{{\bf Console\-Runner\-Implementation}}]{impl}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [package]}}}\label{a00169_aab244361a510cee18ad2f636d110e0d5}

\begin{DoxyCode}
382         \{
383 
384             \textcolor{comment}{// Load nodes}
385             var dialogue = \textcolor{keyword}{new} Dialogue(impl);
386 
387             \textcolor{comment}{// Add some methods for testing}
388             dialogue.library.RegisterFunction(\textcolor{stringliteral}{"add\_three\_operands"}, 3, delegate (Value[] parameters)
389             \{
390                 \textcolor{keywordflow}{return} parameters[0] + parameters[1] + parameters[2];
391             \});
392 
393             dialogue.library.RegisterFunction(\textcolor{stringliteral}{"last\_value"}, -1, delegate (Value[] parameters)
394             \{
395                 \textcolor{comment}{// return the last value}
396                 \textcolor{keywordflow}{return} parameters[parameters.Length - 1];
397             \});
398 
399             dialogue.library.RegisterFunction(\textcolor{stringliteral}{"is\_even"}, 1, delegate (Value[] parameters)
400             \{
401                 \textcolor{keywordflow}{return} (\textcolor{keywordtype}{int})parameters[0].AsNumber % 2 == 0;
402             \});
403 
404             \textcolor{comment}{// Register the "assert" function, which stops execution if its parameter evaluates to false}
405             dialogue.library.RegisterFunction(\textcolor{stringliteral}{"assert"}, -1, delegate (Value[] parameters)
406             \{
407                 \textcolor{keywordflow}{if} (parameters[0].AsBool == \textcolor{keyword}{false})
408                 \{
409 
410                     \textcolor{comment}{// TODO: Include file, node and line number}
411                     \textcolor{keywordflow}{if} (parameters.Length > 1 && parameters[1].AsBool)
412                     \{
413                         dialogue.LogErrorMessage(\textcolor{stringliteral}{"ASSERTION FAILED: "} + parameters[1].AsString);
414                     \}
415                     \textcolor{keywordflow}{else} \{
416                         dialogue.LogErrorMessage(\textcolor{stringliteral}{"ASSERTION FAILED"});
417                     \}
418                     Environment.Exit(1);
419                 \}
420             \});
421 
422 
423             \textcolor{comment}{// Register a function to let test scripts register how many}
424             \textcolor{comment}{// options they expect to send}
425             dialogue.library.RegisterFunction(\textcolor{stringliteral}{"prepare\_for\_options"}, 2, delegate (Value[] parameters)
426             \{
427                 impl.numberOfExpectedOptions = (int)parameters[0].AsNumber;
428                 impl.autoSelectOptionNumber = (int)parameters[1].AsNumber;
429             \});
430 
431             dialogue.library.RegisterFunction(\textcolor{stringliteral}{"expect\_line"}, 1, delegate (Value[] parameters)
432             \{
433                 impl.expectedNextLine = parameters[0].AsString;
434             \});
435 
436             dialogue.library.RegisterFunction(\textcolor{stringliteral}{"expect\_command"}, 1, delegate (Value[] parameters)
437             \{
438                 impl.expectedNextCommand = parameters[0].AsString;
439             \});
440 
441             \textcolor{comment}{// If debugging is enabled, log debug messages; otherwise, ignore them}
442             \textcolor{keywordflow}{if} (options.showDebuggingInfo)
443             \{
444                 dialogue.LogDebugMessage = delegate (\textcolor{keywordtype}{string} message)
445                 \{
446                     \hyperlink{a00169_a939cc9e943c574b36c6af93e9c772702}{Note}(message);
447                 \};
448             \}
449             \textcolor{keywordflow}{else} \{
450                 dialogue.LogDebugMessage = delegate (\textcolor{keywordtype}{string} message) \{ \};
451             \}
452 
453             dialogue.LogErrorMessage = delegate (\textcolor{keywordtype}{string} message)
454             \{
455                 \hyperlink{a00169_a979bb6f049b6c5294f745a19e24ddd9d}{Warn}(\textcolor{stringliteral}{"Yarn Error: "} + message);
456             \};
457 
458             \textcolor{keywordflow}{foreach} (var file \textcolor{keywordflow}{in} options.files) \{
459                 \textcolor{keywordflow}{try} \{
460                     dialogue.LoadFile(file, \textcolor{keyword}{false}, \textcolor{keyword}{false}, options.onlyConsiderNode);
461                 \} \textcolor{keywordflow}{catch} (Yarn.TokeniserException e) \{
462                     \hyperlink{a00169_a979bb6f049b6c5294f745a19e24ddd9d}{Warn}(e.Message);
463                 \} \textcolor{keywordflow}{catch} (Yarn.ParseException e) \{
464                     \hyperlink{a00169_a979bb6f049b6c5294f745a19e24ddd9d}{Warn}(e.Message);
465                 \}
466 
467             \}
468 
469             \textcolor{comment}{// Load string table}
470             \textcolor{keywordflow}{if} (options.stringTable != null)
471             \{
472 
473                 var parsedTable = \textcolor{keyword}{new} Dictionary<string, string>();
474 
475                 \textcolor{keyword}{using} (var reader = \textcolor{keyword}{new} System.IO.StreamReader(options.stringTable))
476                 \{
477                     \textcolor{keyword}{using} (var csvReader = \textcolor{keyword}{new} \hyperlink{a00055}{CsvReader}(reader))
478                     \{
479                         \textcolor{keywordflow}{if} (csvReader.ReadHeader() == \textcolor{keyword}{false})
480                         \{
481                             \hyperlink{a00169_a2f63f9f5b7634cb50ee75ff2eb18b137}{Error}(\textcolor{keywordtype}{string}.Format(\textcolor{stringliteral}{"\{0\} is not a valid string table"}, options.stringTable
      ));
482                         \}
483 
484                         \textcolor{keywordflow}{foreach} (var row \textcolor{keywordflow}{in} csvReader.GetRecords<LocalisedLine>())
485                         \{
486                             parsedTable[row.LineCode] = row.LineText;
487                         \}
488                     \}
489                 \}
490 
491                 dialogue.AddStringTable(parsedTable);
492             \}
493 
494             \textcolor{keywordflow}{return} dialogue;
495         \}
\end{DoxyCode}
\hypertarget{a00169_aff69d6e16dddb077f87a616a57cd3c66}{\index{Yarn\-::\-Yarn\-Spinner\-Console@{Yarn\-::\-Yarn\-Spinner\-Console}!Create\-Dialogue\-For\-Utilities@{Create\-Dialogue\-For\-Utilities}}
\index{Create\-Dialogue\-For\-Utilities@{Create\-Dialogue\-For\-Utilities}!Yarn::YarnSpinnerConsole@{Yarn\-::\-Yarn\-Spinner\-Console}}
\subsubsection[{Create\-Dialogue\-For\-Utilities}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf Dialogue} Yarn.\-Yarn\-Spinner\-Console.\-Create\-Dialogue\-For\-Utilities (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [package]}}}\label{a00169_aff69d6e16dddb077f87a616a57cd3c66}

\begin{DoxyCode}
141         \{
142 
143             \textcolor{comment}{// Note that we're passing in with a null library - this means}
144             \textcolor{comment}{// that all function checking will be disabled, and missing funcs}
145             \textcolor{comment}{// will not cause a compile error. If a func IS missing at runtime,}
146             \textcolor{comment}{// THAT will throw an exception.}
147 
148             \textcolor{comment}{// We do this because this tool has no idea about any of the custom}
149             \textcolor{comment}{// functions that you might be using.}
150 
151             Dialogue d = \textcolor{keyword}{new} Dialogue(null);
152 
153             \textcolor{comment}{// Debug logging goes to Note}
154             d.LogDebugMessage = message => YarnSpinnerConsole.Note(message);
155 
156             \textcolor{comment}{// When erroring, call Warn, not Error, which terminates the program}
157             d.LogErrorMessage = message => YarnSpinnerConsole.Warn(message);
158 
159             \textcolor{keywordflow}{return} d;
160         \}
\end{DoxyCode}
\hypertarget{a00169_a2f63f9f5b7634cb50ee75ff2eb18b137}{\index{Yarn\-::\-Yarn\-Spinner\-Console@{Yarn\-::\-Yarn\-Spinner\-Console}!Error@{Error}}
\index{Error@{Error}!Yarn::YarnSpinnerConsole@{Yarn\-::\-Yarn\-Spinner\-Console}}
\subsubsection[{Error}]{\setlength{\rightskip}{0pt plus 5cm}static void Yarn.\-Yarn\-Spinner\-Console.\-Error (
\begin{DoxyParamCaption}
\item[{params string\mbox{[}$\,$\mbox{]}}]{messages}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{a00169_a2f63f9f5b7634cb50ee75ff2eb18b137}

\begin{DoxyCode}
163         \{
164 
165             \textcolor{keywordflow}{foreach} (var message \textcolor{keywordflow}{in} messages)
166             \{
167                 Console.ForegroundColor = ConsoleColor.DarkRed;
168                 Console.Write(\textcolor{stringliteral}{"Error: "});
169                 Console.ResetColor();
170                 Console.WriteLine(message);
171             \}
172 
173             Environment.Exit(1);
174         \}
\end{DoxyCode}
\hypertarget{a00169_a1d71ff2eb190449ea1d42ce86f44489f}{\index{Yarn\-::\-Yarn\-Spinner\-Console@{Yarn\-::\-Yarn\-Spinner\-Console}!Main@{Main}}
\index{Main@{Main}!Yarn::YarnSpinnerConsole@{Yarn\-::\-Yarn\-Spinner\-Console}}
\subsubsection[{Main}]{\setlength{\rightskip}{0pt plus 5cm}static void Yarn.\-Yarn\-Spinner\-Console.\-Main (
\begin{DoxyParamCaption}
\item[{string\mbox{[}$\,$\mbox{]}}]{args}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{a00169_a1d71ff2eb190449ea1d42ce86f44489f}

\begin{DoxyCode}
240         \{
241 
242             \textcolor{comment}{// Read and dispatch the appropriate command}
243             var results = CommandLine.Parser.Default.ParseArguments
244             <
245             RunOptions,
246             VerifyOptions,
247             CompileOptions,
248             GenerateTableOptions,
249             AddLabelsOptions,
250             ConvertFormatOptions
251             >(args);
252 
253             var returnCode = results.MapResult(
254                 (RunOptions options) => \hyperlink{a00169_a1b974c55540795a9e643c2ec055fbd51}{Run}(options),
255                 (VerifyOptions options) => \hyperlink{a00169_a029a5624e7cc3a16ae586b64f13049de}{Verify}(options),
256                 (CompileOptions options) => ProgramExporter.Export(options),
257                 (AddLabelsOptions options) => LineAdder.AddLines(options),
258                 (GenerateTableOptions options) => TableGenerator.GenerateTables(options),
259                 (ConvertFormatOptions options) => FileFormatConverter.ConvertFormat(options),
260 
261                 errors => \{ \textcolor{keywordflow}{return} 1; \});
262 
263             Environment.Exit(returnCode);
264 
265 
266         \}
\end{DoxyCode}
\hypertarget{a00169_a939cc9e943c574b36c6af93e9c772702}{\index{Yarn\-::\-Yarn\-Spinner\-Console@{Yarn\-::\-Yarn\-Spinner\-Console}!Note@{Note}}
\index{Note@{Note}!Yarn::YarnSpinnerConsole@{Yarn\-::\-Yarn\-Spinner\-Console}}
\subsubsection[{Note}]{\setlength{\rightskip}{0pt plus 5cm}static void Yarn.\-Yarn\-Spinner\-Console.\-Note (
\begin{DoxyParamCaption}
\item[{params string\mbox{[}$\,$\mbox{]}}]{messages}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{a00169_a939cc9e943c574b36c6af93e9c772702}

\begin{DoxyCode}
177         \{
178 
179             \textcolor{keywordflow}{foreach} (var message \textcolor{keywordflow}{in} messages)
180             \{
181                 Console.ForegroundColor = ConsoleColor.DarkBlue;
182                 Console.Write(\textcolor{stringliteral}{"Note: "});
183                 Console.ResetColor();
184                 Console.WriteLine(message);
185             \}
186 
187 
188         \}
\end{DoxyCode}
\hypertarget{a00169_a1b974c55540795a9e643c2ec055fbd51}{\index{Yarn\-::\-Yarn\-Spinner\-Console@{Yarn\-::\-Yarn\-Spinner\-Console}!Run@{Run}}
\index{Run@{Run}!Yarn::YarnSpinnerConsole@{Yarn\-::\-Yarn\-Spinner\-Console}}
\subsubsection[{Run}]{\setlength{\rightskip}{0pt plus 5cm}static int Yarn.\-Yarn\-Spinner\-Console.\-Run (
\begin{DoxyParamCaption}
\item[{{\bf Run\-Options}}]{options}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}}\label{a00169_a1b974c55540795a9e643c2ec055fbd51}

\begin{DoxyCode}
271         \{
272 
273             \hyperlink{a00169_ad77564b25725a771f0fd4da430582e6f}{CheckFileList}(options.files, \hyperlink{a00169_a0979de7ea02c8c0375b8220a12e6575e}{ALLOWED\_EXTENSIONS});
274 
275             \textcolor{comment}{// Create the object that handles callbacks}
276             var impl = \textcolor{keyword}{new} ConsoleRunnerImplementation(waitForLines: options.waitForInput);
277 
278             \textcolor{comment}{// load the default variables we got on the command line}
279             \textcolor{keywordflow}{foreach} (var variable \textcolor{keywordflow}{in} options.variables)
280             \{
281                 var entry = variable.Split(\textcolor{keyword}{new} \textcolor{keywordtype}{char}[] \{ \textcolor{charliteral}{'='} \}, StringSplitOptions.RemoveEmptyEntries);
282 
283                 \textcolor{keywordtype}{float} value;
284                 \textcolor{comment}{// If there aren't two parts to this or the second part isn't a float, fail}
285                 \textcolor{keywordflow}{if} (entry.Length != 2 || \textcolor{keywordtype}{float}.TryParse(entry[1], out value) == \textcolor{keyword}{false})
286                 \{
287                     \hyperlink{a00169_a979bb6f049b6c5294f745a19e24ddd9d}{Warn}(\textcolor{keywordtype}{string}.Format(\textcolor{stringliteral}{"Skipping invalid variable \{0\}"}, variable));
288                     \textcolor{keywordflow}{continue};
289                 \}
290                 var name = entry[0];
291 
292                 impl.SetNumber(name, value);
293             \}
294 
295             \textcolor{keywordflow}{if} (options.automaticallySelectFirstOption == \textcolor{keyword}{true})
296             \{
297                 impl.autoSelectFirstOption = \textcolor{keyword}{true};
298             \}
299 
300             Dialogue dialogue = \hyperlink{a00169_aab244361a510cee18ad2f636d110e0d5}{CreateDialogue}(options, impl);
301 
302             \textcolor{comment}{// Run the conversation}
303 
304             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} run = 0; run < options.runTimes; run++)
305             \{
306                 \textcolor{keywordflow}{foreach} (var step \textcolor{keywordflow}{in} dialogue.Run(options.startNode))
307                 \{
308 
309                     \textcolor{comment}{// It can be one of three types: a line to show, options}
310                     \textcolor{comment}{// to present to the user, or an internal command to run}
311 
312                     \textcolor{keywordflow}{if} (step is Dialogue.LineResult)
313                     \{
314                         var lineResult = step as Dialogue.LineResult;
315                         impl.RunLine(lineResult.line);
316                     \}
317                     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (step is Dialogue.OptionSetResult)
318                     \{
319                         var optionsResult = step as Dialogue.OptionSetResult;
320                         impl.RunOptions(optionsResult.options, optionsResult.setSelectedOptionDelegate);
321                     \}
322                     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (step is Dialogue.CommandResult)
323                     \{
324                         var commandResult = step as Dialogue.CommandResult;
325                         impl.RunCommand(commandResult.command.text);
326                     \}
327                 \}
328                 impl.DialogueComplete();
329             \}
330             \textcolor{keywordflow}{return} 0;
331         \}
\end{DoxyCode}
\hypertarget{a00169_a029a5624e7cc3a16ae586b64f13049de}{\index{Yarn\-::\-Yarn\-Spinner\-Console@{Yarn\-::\-Yarn\-Spinner\-Console}!Verify@{Verify}}
\index{Verify@{Verify}!Yarn::YarnSpinnerConsole@{Yarn\-::\-Yarn\-Spinner\-Console}}
\subsubsection[{Verify}]{\setlength{\rightskip}{0pt plus 5cm}static int Yarn.\-Yarn\-Spinner\-Console.\-Verify (
\begin{DoxyParamCaption}
\item[{{\bf Verify\-Options}}]{options}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}}\label{a00169_a029a5624e7cc3a16ae586b64f13049de}

\begin{DoxyCode}
334         \{
335 
336             \hyperlink{a00169_ad77564b25725a771f0fd4da430582e6f}{CheckFileList}(options.files, \hyperlink{a00169_a0979de7ea02c8c0375b8220a12e6575e}{ALLOWED\_EXTENSIONS});
337 
338             Dialogue dialogue;
339             \textcolor{keywordflow}{try}
340             \{
341                 dialogue = \hyperlink{a00169_aab244361a510cee18ad2f636d110e0d5}{CreateDialogue}(options, null);
342             \}
343             \textcolor{keywordflow}{catch}
344             \{
345                 \textcolor{keywordflow}{return} 1;
346             \}
347 
348             \textcolor{keywordflow}{if} (options.compileAndExit)
349             \{
350                 var result = dialogue.GetByteCode();
351                 Console.WriteLine(result);
352                 \textcolor{keywordflow}{return} 0;
353             \}
354 
355             var context = \textcolor{keyword}{new} \hyperlink{a00035}{Yarn.Analysis.Context}();
356 
357             dialogue.Analyse(context);
358 
359             \textcolor{keywordflow}{foreach} (var diagnosis \textcolor{keywordflow}{in} context.FinishAnalysis())
360             \{
361                 \textcolor{keywordflow}{switch} (diagnosis.severity)
362                 \{
363                     \textcolor{keywordflow}{case} Analysis.Diagnosis.Severity.Error:
364                         \hyperlink{a00169_a2f63f9f5b7634cb50ee75ff2eb18b137}{Error}(diagnosis.ToString(showSeverity: \textcolor{keyword}{false}));
365                         \textcolor{keywordflow}{break};
366                     \textcolor{keywordflow}{case} Analysis.Diagnosis.Severity.Warning:
367                         \hyperlink{a00169_a979bb6f049b6c5294f745a19e24ddd9d}{Warn}(diagnosis.ToString(showSeverity: \textcolor{keyword}{false}));
368                         \textcolor{keywordflow}{break};                      
369                     \textcolor{keywordflow}{case} Analysis.Diagnosis.Severity.Note:
370                         \hyperlink{a00169_a939cc9e943c574b36c6af93e9c772702}{Note}(diagnosis.ToString(showSeverity: \textcolor{keyword}{false}));
371                         \textcolor{keywordflow}{break};
372                     \textcolor{keywordflow}{default}:
373                         \textcolor{keywordflow}{throw} \textcolor{keyword}{new} ArgumentOutOfRangeException();
374                 \}
375 
376             \}
377             \textcolor{keywordflow}{return} 0;
378 
379         \}
\end{DoxyCode}
\hypertarget{a00169_a979bb6f049b6c5294f745a19e24ddd9d}{\index{Yarn\-::\-Yarn\-Spinner\-Console@{Yarn\-::\-Yarn\-Spinner\-Console}!Warn@{Warn}}
\index{Warn@{Warn}!Yarn::YarnSpinnerConsole@{Yarn\-::\-Yarn\-Spinner\-Console}}
\subsubsection[{Warn}]{\setlength{\rightskip}{0pt plus 5cm}static void Yarn.\-Yarn\-Spinner\-Console.\-Warn (
\begin{DoxyParamCaption}
\item[{params string\mbox{[}$\,$\mbox{]}}]{messages}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{a00169_a979bb6f049b6c5294f745a19e24ddd9d}

\begin{DoxyCode}
191         \{
192             \textcolor{keywordflow}{foreach} (var message \textcolor{keywordflow}{in} messages)
193             \{
194                 Console.ForegroundColor = ConsoleColor.DarkYellow;
195                 Console.Write(\textcolor{stringliteral}{"Warning: "});
196                 Console.ResetColor();
197                 Console.WriteLine(message);
198             \}
199         \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\hypertarget{a00169_a0979de7ea02c8c0375b8220a12e6575e}{\index{Yarn\-::\-Yarn\-Spinner\-Console@{Yarn\-::\-Yarn\-Spinner\-Console}!A\-L\-L\-O\-W\-E\-D\-\_\-\-E\-X\-T\-E\-N\-S\-I\-O\-N\-S@{A\-L\-L\-O\-W\-E\-D\-\_\-\-E\-X\-T\-E\-N\-S\-I\-O\-N\-S}}
\index{A\-L\-L\-O\-W\-E\-D\-\_\-\-E\-X\-T\-E\-N\-S\-I\-O\-N\-S@{A\-L\-L\-O\-W\-E\-D\-\_\-\-E\-X\-T\-E\-N\-S\-I\-O\-N\-S}!Yarn::YarnSpinnerConsole@{Yarn\-::\-Yarn\-Spinner\-Console}}
\subsubsection[{A\-L\-L\-O\-W\-E\-D\-\_\-\-E\-X\-T\-E\-N\-S\-I\-O\-N\-S}]{\setlength{\rightskip}{0pt plus 5cm}List$<$string$>$ Yarn.\-Yarn\-Spinner\-Console.\-A\-L\-L\-O\-W\-E\-D\-\_\-\-E\-X\-T\-E\-N\-S\-I\-O\-N\-S = new List$<$string$>$(new string\mbox{[}$\,$\mbox{]} \{ \char`\"{}.json\char`\"{}, \char`\"{}.node\char`\"{}, \char`\"{}.yarn.\-bytes\char`\"{}, \char`\"{}.yarn.\-txt\char`\"{} \})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [package]}}}\label{a00169_a0979de7ea02c8c0375b8220a12e6575e}


The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
Yarn\-Spinner\-Console/\hyperlink{a00271}{Main.\-cs}\end{DoxyCompactItemize}
