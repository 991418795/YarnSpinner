<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.6">
  <compounddef id="a00024" kind="page">
    <compoundname>md_Documentation_YarnSpinner-Programming_Extending</compoundname>
    <title>Extending Yarn Spinner</title>
    <detaileddescription>
<para><heading level="2">Style Guide</heading>
</para><para><computeroutput>Inline Code</computeroutput> contain short snippets of code for your project <verbatim>Code Blocks contain segments or chunks of code for your project
</verbatim></para><para><bold>Bold indicate actions (Select menu item, copying file, etc.)</bold></para><para>***Bold italic text indicates emphasis***</para><para><blockquote><para>Blockquotes contain essential information</para><para></para></blockquote></para><para><heading level="2">Introduction</heading>
</para><para>This document intends to demonstrate to a developer how they can add new functions so that they can be called from inside <ref refid="a00045" kindref="compound">Yarn</ref>.</para><para><heading level="3">Programming style</heading>
</para><para><itemizedlist>
<listitem><para>It is recommended that you follow our programming style so that in the case of bug or patch submission, it makes it easier for us to read. As such, indents should be four spaces and not tab stops.</para></listitem><listitem><para>We use the Doxygen format for documentation, thus three forward slashes <computeroutput>///</computeroutput> indicate the head of a documentation comment and details for documentation comments are contained within the <computeroutput>/* ....</computeroutput> structure. Please refer to the Doxygen site for more information.</para></listitem><listitem><para>Other comments should use two forward slashes. This will ensure proper code commentary without it appearing in generated API documentation.</para></listitem></itemizedlist>
</para><para><heading level="2">Creating a custom command</heading>
</para><para>Creating a custom command is a simple two step procedure.i</para><para><orderedlist>
<listitem><para>We need to get the dialogue object that&apos;s in use, then regiser a new function for it. ``` // get the Dialogue object // varstorage_implementation is the object that handles variable storage - it&apos;s not important in this example var dialogue = new Dialogue(varstorage_implementation); ``<computeroutput></computeroutput></para></listitem><listitem><para><computeroutput>Next, register your new function. For example, let&apos;s make a function that takes 1 parameter, which is a number, and returns</computeroutput>true<computeroutput>if it&apos;s even: </computeroutput>`` // RegisterFunction(name, parameterCount, implementation) dialogue.library.RegisterFunction (&quot;is_even&quot;, 1, delegate(Value[] parameters) { return (int)parameters[0].AsNumber % 2 == 0; }); ``` When the function is called, the delegate you provide will be run.</para></listitem></orderedlist>
</para><para>Some notes:</para><para><itemizedlist>
<listitem><para>You don&apos;t have to return a value from your function.</para></listitem><listitem><para>The parameters passed to your function are of type <ref refid="a00181" kindref="compound">Yarn.Value</ref>. You can get their value as numbers, bools or strings by using the <computeroutput>AsNumber</computeroutput>, <computeroutput>AsString</computeroutput> and <computeroutput>AsBool</computeroutput> properties.</para></listitem><listitem><para>You can only return values of the following types:<itemizedlist>
<listitem><para>String</para></listitem><listitem><para>Float</para></listitem><listitem><para>Double</para></listitem><listitem><para>Integer</para></listitem><listitem><para><ref refid="a00181" kindref="compound">Yarn.Value</ref></para></listitem></itemizedlist>
</para></listitem><listitem><para><ref refid="a00045" kindref="compound">Yarn</ref> Spinner will make sure that the correct number of parameters is passed to your method. If you specify <computeroutput>-1</computeroutput> as your parameter count, the function may have any number of parameters. </para></listitem></itemizedlist>
</para>    </detaileddescription>
  </compounddef>
</doxygen>
